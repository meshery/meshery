{
  "name": "Kafka Streaming Platform",
  "version": "0.0.1",
  "schemaVersion": "designs.meshery.io/v1beta1",
  "description": "Apache Kafka is a distributed streaming platform designed to build real-time pipelines and can be used as a message broker or as a replacement for a log aggregation solution for big data applications. This design is based on the Bitnami Kafka Helm chart version 32.4.3 with Kafka 4.0.0.",
  "type": {
    "name": "Deployment"
  },
  "services": {
    "kafka-controller": {
      "name": "kafka-controller",
      "type": "StatefulSet",
      "namespace": "default",
      "version": "v1",
      "model": "kubernetes",
      "labels": {
        "app.kubernetes.io/instance": "kafka",
        "app.kubernetes.io/name": "kafka",
        "app.kubernetes.io/version": "4.0.0",
        "app.kubernetes.io/component": "controller-eligible"
      },
      "annotations": {
        "meshery/component-type": "workload",
        "helm.sh/chart": "kafka-32.4.3"
      },
      "settings": {
        "spec": {
          "replicas": 1,
          "serviceName": "kafka-controller-headless",
          "selector": {
            "matchLabels": {
              "app.kubernetes.io/instance": "kafka",
              "app.kubernetes.io/name": "kafka",
              "app.kubernetes.io/component": "controller-eligible"
            }
          }
        }
      }
    },
    "kafka-broker": {
      "name": "kafka-broker",
      "type": "StatefulSet", 
      "namespace": "default",
      "version": "v1",
      "model": "kubernetes",
      "labels": {
        "app.kubernetes.io/instance": "kafka",
        "app.kubernetes.io/name": "kafka",
        "app.kubernetes.io/version": "4.0.0",
        "app.kubernetes.io/component": "broker"
      },
      "annotations": {
        "meshery/component-type": "workload",
        "helm.sh/chart": "kafka-32.4.3"
      },
      "settings": {
        "spec": {
          "replicas": 1,
          "serviceName": "kafka-broker-headless",
          "selector": {
            "matchLabels": {
              "app.kubernetes.io/instance": "kafka",
              "app.kubernetes.io/name": "kafka",
              "app.kubernetes.io/component": "broker"
            }
          }
        }
      }
    },
    "kafka-controller-headless": {
      "name": "kafka-controller-headless",
      "type": "Service",
      "namespace": "default", 
      "version": "v1",
      "model": "kubernetes",
      "labels": {
        "app.kubernetes.io/instance": "kafka",
        "app.kubernetes.io/name": "kafka",
        "app.kubernetes.io/component": "controller-eligible"
      },
      "settings": {
        "spec": {
          "type": "ClusterIP",
          "clusterIP": "None",
          "ports": [
            {
              "name": "tcp-interbroker",
              "port": 9094,
              "protocol": "TCP",
              "targetPort": "interbroker"
            },
            {
              "name": "tcp-controller",
              "port": 9093,
              "protocol": "TCP", 
              "targetPort": "controller"
            }
          ],
          "selector": {
            "app.kubernetes.io/instance": "kafka",
            "app.kubernetes.io/name": "kafka",
            "app.kubernetes.io/component": "controller-eligible"
          }
        }
      }
    },
    "kafka": {
      "name": "kafka",
      "type": "Service",
      "namespace": "default",
      "version": "v1", 
      "model": "kubernetes",
      "labels": {
        "app.kubernetes.io/instance": "kafka",
        "app.kubernetes.io/name": "kafka"
      },
      "settings": {
        "spec": {
          "type": "ClusterIP",
          "ports": [
            {
              "name": "tcp-client",
              "port": 9092,
              "protocol": "TCP",
              "targetPort": "client"
            }
          ],
          "selector": {
            "app.kubernetes.io/instance": "kafka",
            "app.kubernetes.io/name": "kafka",
            "app.kubernetes.io/component": "broker"
          }
        }
      }
    }
  }
}