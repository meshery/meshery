{"kind":"VaultMirror","apiVersion":"vault.infra.doodle.com/v1beta1","displayName":"Vault Mirror","format":"JSON","metadata":{"genealogy":"","logoURL":"","model":"k8svault-controller","modelDisplayName":"K8s Vault Controller","primaryColor":"#00B39F","published":false,"secondaryColor":"#00D3A9","shape":"circle","styleOverrides":"","subCategory":"Security \u0026 Compliance","svgColor":"","svgComplete":"","svgWhite":""},"model":{"name":"k8svault-controller","version":"0.1.2","displayName":"K8s Vault Controller","category":{"name":"Security \u0026 Compliance","metadata":null},"metadata":null},"schema":"{\n \"description\": \"VaultMirrorSpec defines the desired state of VaultMirror\",\n \"properties\": {\n  \"destination\": {\n   \"description\": \"Destination vault server\",\n   \"properties\": {\n    \"address\": {\n     \"description\": \"The http URL for the vault server By default the global VAULT_ADDRESS gets used.\",\n     \"type\": \"string\"\n    },\n    \"auth\": {\n     \"description\": \"Vault authentication parameters\",\n     \"properties\": {\n      \"role\": {\n       \"description\": \"Role is used to map the kubernetes serviceAccount to a vault role. A default VAULT_ROLE might be set for the controller. If neither is set the VaultMirror can not authenticate.\",\n       \"type\": \"string\"\n      },\n      \"tokenPath\": {\n       \"description\": \"TokenPath allows to use a different token path used for kubernetes authentication.\",\n       \"type\": \"string\"\n      },\n      \"type\": {\n       \"description\": \"Type is by default kubernetes authentication. The vault needs to be equipped with the kubernetes auth method. Currently only kubernetes is supported.\",\n       \"type\": \"string\"\n      }\n     },\n     \"type\": \"object\"\n    },\n    \"path\": {\n     \"description\": \"The vault path, for example: /secret/myapp\",\n     \"type\": \"string\"\n    },\n    \"tlsConfig\": {\n     \"description\": \"Vault TLS configuration\",\n     \"properties\": {\n      \"caCert\": {\n       \"type\": \"string\"\n      },\n      \"caPath\": {\n       \"type\": \"string\"\n      },\n      \"clientCert\": {\n       \"type\": \"string\"\n      },\n      \"clientKey\": {\n       \"type\": \"string\"\n      },\n      \"insecure\": {\n       \"type\": \"boolean\"\n      },\n      \"serverName\": {\n       \"type\": \"string\"\n      }\n     },\n     \"type\": \"object\"\n    }\n   },\n   \"required\": [\n    \"path\"\n   ],\n   \"type\": \"object\"\n  },\n  \"fields\": {\n   \"description\": \"Define the secrets which must be mapped to vault\",\n   \"items\": {\n    \"description\": \"FieldMapping maps a secret field to the vault path\",\n    \"properties\": {\n     \"name\": {\n      \"description\": \"Name is the kubernetes secret field name\",\n      \"type\": \"string\"\n     },\n     \"rename\": {\n      \"description\": \"Rename is no required. Hovever it may be used to rewrite the field name\",\n      \"type\": \"string\"\n     }\n    },\n    \"required\": [\n     \"name\"\n    ],\n    \"type\": \"object\"\n   },\n   \"type\": \"array\"\n  },\n  \"forceApply\": {\n   \"description\": \"By default existing matching fields in vault do not get overwritten\",\n   \"type\": \"boolean\"\n  },\n  \"interval\": {\n   \"description\": \"Vault does not provide a watch api, therefore the controller may reconcile a mirror in a specified interval\",\n   \"type\": \"string\"\n  },\n  \"source\": {\n   \"description\": \"Source vault server to mirror\",\n   \"properties\": {\n    \"address\": {\n     \"description\": \"The http URL for the vault server By default the global VAULT_ADDRESS gets used.\",\n     \"type\": \"string\"\n    },\n    \"auth\": {\n     \"description\": \"Vault authentication parameters\",\n     \"properties\": {\n      \"role\": {\n       \"description\": \"Role is used to map the kubernetes serviceAccount to a vault role. A default VAULT_ROLE might be set for the controller. If neither is set the VaultMirror can not authenticate.\",\n       \"type\": \"string\"\n      },\n      \"tokenPath\": {\n       \"description\": \"TokenPath allows to use a different token path used for kubernetes authentication.\",\n       \"type\": \"string\"\n      },\n      \"type\": {\n       \"description\": \"Type is by default kubernetes authentication. The vault needs to be equipped with the kubernetes auth method. Currently only kubernetes is supported.\",\n       \"type\": \"string\"\n      }\n     },\n     \"type\": \"object\"\n    },\n    \"path\": {\n     \"description\": \"The vault path, for example: /secret/myapp\",\n     \"type\": \"string\"\n    },\n    \"tlsConfig\": {\n     \"description\": \"Vault TLS configuration\",\n     \"properties\": {\n      \"caCert\": {\n       \"type\": \"string\"\n      },\n      \"caPath\": {\n       \"type\": \"string\"\n      },\n      \"clientCert\": {\n       \"type\": \"string\"\n      },\n      \"clientKey\": {\n       \"type\": \"string\"\n      },\n      \"insecure\": {\n       \"type\": \"boolean\"\n      },\n      \"serverName\": {\n       \"type\": \"string\"\n      }\n     },\n     \"type\": \"object\"\n    }\n   },\n   \"required\": [\n    \"path\"\n   ],\n   \"type\": \"object\"\n  }\n },\n \"required\": [\n  \"destination\",\n  \"source\"\n ],\n \"title\": \"Vault Mirror\",\n \"type\": \"object\"\n}"}