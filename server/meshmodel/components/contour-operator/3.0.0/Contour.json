{"kind":"Contour","apiVersion":"v1alpha1","displayName":"Contour","format":"JSON","metadata":{},"model":{"name":"contour-operator","version":"3.0.0","modelDisplayName":"contour-operator","category":"","subCategory":""},"schema":"{\n \"description\": \"Spec defines the desired state of Contour.\",\n \"properties\": {\n  \"enableExternalNameService\": {\n   \"description\": \"EnableExternalNameService enables ExternalName Services. ExternalName Services are disabled by default due to CVE-2021-XXXXX You can re-enable them by setting this setting to \\\"true\\\". This is not recommended without understanding the security implications. Please see the advisory at https://github.com/projectcontour/contour/security/advisories/GHSA-5ph6-qq5x-7jwc for the details.\",\n   \"type\": \"boolean\"\n  },\n  \"gatewayClassRef\": {\n   \"description\": \"GatewayClassRef is a reference to a GatewayClass name used for managing a Contour. DEPRECATED: The contour operator no longer reconciles GatewayClasses.\",\n   \"maxLength\": 253,\n   \"type\": \"string\"\n  },\n  \"gatewayControllerName\": {\n   \"description\": \"GatewayControllerName is used to determine which GatewayClass Contour reconciles. The string takes the form of \\\"projectcontour.io/\\u003cnamespace\\u003e/contour\\\". If unset, Contour will not reconcile Gateway API resources.\",\n   \"maxLength\": 253,\n   \"type\": \"string\"\n  },\n  \"ingressClassName\": {\n   \"description\": \"IngressClassName is the name of the IngressClass used by Contour. If unset, Contour will process all ingress objects without an ingress class annotation or ingress objects with an annotation matching ingress-class=contour. When specified, Contour will only process ingress objects that match the provided class. \\n For additional IngressClass details, refer to:   https://projectcontour.io/docs/main/config/annotations/#ingress-class\",\n   \"maxLength\": 253,\n   \"minLength\": 1,\n   \"type\": \"string\"\n  },\n  \"namespace\": {\n   \"default\": {\n    \"name\": \"projectcontour\",\n    \"removeOnDeletion\": false\n   },\n   \"description\": \"Namespace defines the schema of a Contour namespace. See each field for additional details.\",\n   \"properties\": {\n    \"name\": {\n     \"default\": \"projectcontour\",\n     \"description\": \"Name is the name of the namespace to run Contour and dependent resources. If unset, defaults to \\\"projectcontour\\\".\",\n     \"type\": \"string\"\n    },\n    \"removeOnDeletion\": {\n     \"default\": false,\n     \"description\": \"RemoveOnDeletion will remove the namespace when the Contour is deleted. If set to True, deletion will not occur if any of the following conditions exist: \\n 1. The Contour namespace is \\\"default\\\", \\\"kube-system\\\" or the    contour-operator's namespace. \\n 2. Another Contour exists in the namespace. \\n 3. The namespace does not contain the Contour owning label.\",\n     \"type\": \"boolean\"\n    }\n   },\n   \"type\": \"object\"\n  },\n  \"networkPublishing\": {\n   \"default\": {\n    \"envoy\": {\n     \"containerPorts\": [\n      {\n       \"name\": \"http\",\n       \"portNumber\": 8080\n      },\n      {\n       \"name\": \"https\",\n       \"portNumber\": 8443\n      }\n     ],\n     \"type\": \"LoadBalancerService\"\n    }\n   },\n   \"description\": \"NetworkPublishing defines the schema for publishing Contour to a network. \\n See each field for additional details.\",\n   \"properties\": {\n    \"envoy\": {\n     \"default\": {\n      \"containerPorts\": [\n       {\n        \"name\": \"http\",\n        \"portNumber\": 8080\n       },\n       {\n        \"name\": \"https\",\n        \"portNumber\": 8443\n       }\n      ],\n      \"loadBalancer\": {\n       \"providerParameters\": {\n        \"type\": \"AWS\"\n       },\n       \"scope\": \"External\"\n      },\n      \"type\": \"LoadBalancerService\"\n     },\n     \"description\": \"Envoy provides the schema for publishing the network endpoints of Envoy. \\n If unset, defaults to:   type: LoadBalancerService   containerPorts:   - name: http     portNumber: 8080   - name: https     portNumber: 8443\",\n     \"properties\": {\n      \"containerPorts\": {\n       \"default\": [\n        {\n         \"name\": \"http\",\n         \"portNumber\": 8080\n        },\n        {\n         \"name\": \"https\",\n         \"portNumber\": 8443\n        }\n       ],\n       \"description\": \"ContainerPorts is a list of container ports to expose from the Envoy container(s). Exposing a port here gives the system additional information about the network connections the Envoy container uses, but is primarily informational. Not specifying a port here DOES NOT prevent that port from being exposed by Envoy. Any port which is listening on the default \\\"0.0.0.0\\\" address inside the Envoy container will be accessible from the network. Names and port numbers must be unique in the list container ports. Two ports must be specified, one named \\\"http\\\" for Envoy's insecure service and one named \\\"https\\\" for Envoy's secure service. \\n TODO [danehans]: Update minItems to 1, requiring only https when the following issue is fixed: https://github.com/projectcontour/contour/issues/2577. \\n TODO [danehans]: Increase maxItems when https://github.com/projectcontour/contour/pull/3263 is implemented.\",\n       \"items\": {\n        \"description\": \"ContainerPort is the schema to specify a network port for a container. A container port gives the system additional information about network connections a container uses, but is primarily informational.\",\n        \"properties\": {\n         \"name\": {\n          \"description\": \"Name is an IANA_SVC_NAME within the pod.\",\n          \"maxLength\": 253,\n          \"minLength\": 1,\n          \"type\": \"string\"\n         },\n         \"portNumber\": {\n          \"description\": \"PortNumber is the network port number to expose on the envoy pod. The number must be greater than 0 and less than 65536.\",\n          \"format\": \"int32\",\n          \"maximum\": 65535,\n          \"minimum\": 1,\n          \"type\": \"integer\"\n         }\n        },\n        \"required\": [\n         \"name\",\n         \"portNumber\"\n        ],\n        \"type\": \"object\"\n       },\n       \"maxItems\": 2,\n       \"minItems\": 2,\n       \"type\": \"array\"\n      },\n      \"loadBalancer\": {\n       \"default\": {\n        \"providerParameters\": {\n         \"type\": \"AWS\"\n        },\n        \"scope\": \"External\"\n       },\n       \"description\": \"LoadBalancer holds parameters for the load balancer. Present only if type is LoadBalancerService. \\n If unspecified, defaults to an external Classic AWS ELB.\",\n       \"properties\": {\n        \"providerParameters\": {\n         \"default\": {\n          \"type\": \"AWS\"\n         },\n         \"description\": \"ProviderParameters contains load balancer information specific to the underlying infrastructure provider.\",\n         \"properties\": {\n          \"aws\": {\n           \"description\": \"AWS provides configuration settings that are specific to AWS load balancers. \\n If empty, defaults will be applied. See specific aws fields for details about their defaults.\",\n           \"properties\": {\n            \"allocationIds\": {\n             \"description\": \"AllocationIDs is a list of Allocation IDs of Elastic IP addresses that are to be assigned to the Network Load Balancer. Works only with type NLB. If you are using Amazon EKS 1.16 or later, you can assign Elastic IP addresses to Network Load Balancer with AllocationIDs. The number of Allocation IDs must match the number of subnets used for the load balancer. \\n Example: \\\"eipalloc-\\u003cxxxxxxxxxxxxxxxxx\\u003e\\\" \\n See: https://docs.aws.amazon.com/eks/latest/userguide/load-balancing.html\",\n             \"items\": {\n              \"type\": \"string\"\n             },\n             \"type\": \"array\"\n            },\n            \"type\": {\n             \"default\": \"Classic\",\n             \"description\": \"Type is the type of AWS load balancer to manage. \\n Valid values are: \\n * \\\"Classic\\\": A Classic load balancer makes routing decisions at either the   transport layer (TCP/SSL) or the application layer (HTTP/HTTPS). See   the following for additional details: \\n     https://docs.aws.amazon.com/AmazonECS/latest/developerguide/load-balancer-types.html#clb \\n * \\\"NLB\\\": A Network load balancer makes routing decisions at the transport   layer (TCP/SSL). See the following for additional details: \\n     https://docs.aws.amazon.com/AmazonECS/latest/developerguide/load-balancer-types.html#nlb \\n If unset, defaults to \\\"Classic\\\".\",\n             \"enum\": [\n              \"Classic\",\n              \"NLB\"\n             ],\n             \"type\": \"string\"\n            }\n           },\n           \"type\": \"object\"\n          },\n          \"azure\": {\n           \"description\": \"Azure provides configuration settings that are specific to Azure load balancers. \\n If empty, defaults will be applied. See specific azure fields for details about their defaults.\",\n           \"properties\": {\n            \"address\": {\n             \"description\": \"Address is the desired load balancer IP address. If scope is \\\"Internal\\\", address must reside in same virtual network as AKS and must not already be assigned to a resource. If address does not reside in same subnet as AKS, the subnet parameter is also required. \\n Address must already exist (e.g. `az network public-ip create`). \\n See: \\t https://docs.microsoft.com/en-us/azure/aks/static-ip#create-a-service-using-the-static-ip-address \\t https://docs.microsoft.com/en-us/azure/aks/internal-lb#specify-an-ip-address\",\n             \"maxLength\": 253,\n             \"minLength\": 1,\n             \"type\": \"string\"\n            },\n            \"resourceGroup\": {\n             \"description\": \"ResourceGroup is the resource group name where the \\\"address\\\" resides. Relevant only if scope is \\\"External\\\". \\n Omit if desired IP is created in same resource group as AKS cluster.\",\n             \"maxLength\": 90,\n             \"minLength\": 1,\n             \"type\": \"string\"\n            },\n            \"subnet\": {\n             \"description\": \"Subnet is the subnet name where the \\\"address\\\" resides. Relevant only if scope is \\\"Internal\\\" and desired IP does not reside in same subnet as AKS. \\n Omit if desired IP is in same subnet as AKS cluster. \\n See: https://docs.microsoft.com/en-us/azure/aks/internal-lb#specify-an-ip-address\",\n             \"maxLength\": 80,\n             \"minLength\": 1,\n             \"type\": \"string\"\n            }\n           },\n           \"type\": \"object\"\n          },\n          \"gcp\": {\n           \"description\": \"GCP provides configuration settings that are specific to GCP load balancers. \\n If empty, defaults will be applied. See specific gcp fields for details about their defaults.\",\n           \"properties\": {\n            \"address\": {\n             \"description\": \"Address is the desired load balancer IP address. If scope is \\\"Internal\\\", the address must reside in same subnet as the GKE cluster or \\\"subnet\\\" has to be provided. \\n See: \\t https://cloud.google.com/kubernetes-engine/docs/tutorials/configuring-domain-name-static-ip#use_a_service \\t https://cloud.google.com/kubernetes-engine/docs/how-to/internal-load-balancing#lb_subnet\",\n             \"maxLength\": 253,\n             \"minLength\": 1,\n             \"type\": \"string\"\n            },\n            \"subnet\": {\n             \"description\": \"Subnet is the subnet name where the \\\"address\\\" resides. Relevant only if scope is \\\"Internal\\\" and desired IP does not reside in same subnet as GKE cluster. \\n Omit if desired IP is in same subnet as GKE cluster. \\n See: https://cloud.google.com/kubernetes-engine/docs/how-to/internal-load-balancing#lb_subnet\",\n             \"maxLength\": 63,\n             \"minLength\": 1,\n             \"type\": \"string\"\n            }\n           },\n           \"type\": \"object\"\n          },\n          \"type\": {\n           \"default\": \"AWS\",\n           \"description\": \"Type is the underlying infrastructure provider for the load balancer. Allowed values are \\\"AWS\\\", \\\"Azure\\\", and \\\"GCP\\\".\",\n           \"enum\": [\n            \"AWS\",\n            \"Azure\",\n            \"GCP\"\n           ],\n           \"type\": \"string\"\n          }\n         },\n         \"type\": \"object\"\n        },\n        \"scope\": {\n         \"default\": \"External\",\n         \"description\": \"Scope indicates the scope at which the load balancer is exposed. Possible values are \\\"External\\\" and \\\"Internal\\\".\",\n         \"enum\": [\n          \"Internal\",\n          \"External\"\n         ],\n         \"type\": \"string\"\n        }\n       },\n       \"type\": \"object\"\n      },\n      \"nodePorts\": {\n       \"description\": \"NodePorts is a list of network ports to expose on each node's IP at a static port number using a NodePort Service. Present only if type is NodePortService. A ClusterIP Service, which the NodePort Service routes to, is automatically created. You'll be able to contact the NodePort Service, from outside the cluster, by requesting \\u003cNodeIP\\u003e:\\u003cNodePort\\u003e. \\n If type is NodePortService and nodePorts is unspecified, two nodeports will be created, one named \\\"http\\\" and the other named \\\"https\\\", with port numbers auto assigned by Kubernetes API server. For additional information on the NodePort Service, see: \\n  https://kubernetes.io/docs/concepts/services-networking/service/#nodeport \\n Names and port numbers must be unique in the list. Two ports must be specified, one named \\\"http\\\" for Envoy's insecure service and one named \\\"https\\\" for Envoy's secure service.\",\n       \"items\": {\n        \"description\": \"NodePort is the schema to specify a network port for a NodePort Service.\",\n        \"properties\": {\n         \"name\": {\n          \"description\": \"Name is an IANA_SVC_NAME within the NodePort Service.\",\n          \"maxLength\": 253,\n          \"minLength\": 1,\n          \"type\": \"string\"\n         },\n         \"portNumber\": {\n          \"description\": \"PortNumber is the network port number to expose for the NodePort Service. If unspecified, a port number will be assigned from the the cluster's nodeport service range, i.e. --service-node-port-range flag (default: 30000-32767). \\n If specified, the number must: \\n 1. Not be used by another NodePort Service. 2. Be within the cluster's nodeport service range, i.e. --service-node-port-range    flag (default: 30000-32767). 3. Be a valid network port number, i.e. greater than 0 and less than 65536.\",\n          \"format\": \"int32\",\n          \"maximum\": 65535,\n          \"minimum\": 1,\n          \"type\": \"integer\"\n         }\n        },\n        \"required\": [\n         \"name\"\n        ],\n        \"type\": \"object\"\n       },\n       \"maxItems\": 2,\n       \"minItems\": 2,\n       \"type\": \"array\"\n      },\n      \"type\": {\n       \"default\": \"LoadBalancerService\",\n       \"description\": \"Type is the type of publishing strategy to use. Valid values are: \\n * LoadBalancerService \\n In this configuration, network endpoints for Envoy use container networking. A Kubernetes LoadBalancer Service is created to publish Envoy network endpoints. The Service uses port 80 to publish Envoy's HTTP network endpoint and port 443 to publish Envoy's HTTPS network endpoint. \\n See: https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer \\n * NodePortService \\n Publishes Envoy network endpoints using a Kubernetes NodePort Service. \\n In this configuration, Envoy network endpoints use container networking. A Kubernetes NodePort Service is created to publish the network endpoints. \\n See: https://kubernetes.io/docs/concepts/services-networking/service/#nodeport \\n * ClusterIPService \\n Publishes Envoy network endpoints using a Kubernetes ClusterIP Service. \\n In this configuration, Envoy network endpoints use container networking. A Kubernetes ClusterIP Service is created to publish the network endpoints. \\n See: https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types\",\n       \"enum\": [\n        \"LoadBalancerService\",\n        \"NodePortService\",\n        \"ClusterIPService\"\n       ],\n       \"type\": \"string\"\n      }\n     },\n     \"type\": \"object\"\n    }\n   },\n   \"type\": \"object\"\n  },\n  \"nodePlacement\": {\n   \"description\": \"NodePlacement enables scheduling of Contour and Envoy pods onto specific nodes. \\n See each field for additional details.\",\n   \"properties\": {\n    \"contour\": {\n     \"description\": \"Contour describes node scheduling configuration of Contour pods.\",\n     \"properties\": {\n      \"nodeSelector\": {\n       \"additionalProperties\": {\n        \"type\": \"string\"\n       },\n       \"description\": \"NodeSelector is the simplest recommended form of node selection constraint and specifies a map of key-value pairs. For the Contour pod to be eligible to run on a node, the node must have each of the indicated key-value pairs as labels (it can have additional labels as well). \\n If unset, the Contour pod(s) will be scheduled to any available node.\",\n       \"type\": \"object\"\n      },\n      \"tolerations\": {\n       \"description\": \"Tolerations work with taints to ensure that Envoy pods are not scheduled onto inappropriate nodes. One or more taints are applied to a node; this marks that the node should not accept any pods that do not tolerate the taints. \\n The default is an empty list. \\n See https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/ for additional details.\",\n       \"items\": {\n        \"description\": \"The pod this Toleration is attached to tolerates any taint that matches the triple \\u003ckey,value,effect\\u003e using the matching operator \\u003coperator\\u003e.\",\n        \"properties\": {\n         \"effect\": {\n          \"description\": \"Effect indicates the taint effect to match. Empty means match all taint effects. When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.\",\n          \"type\": \"string\"\n         },\n         \"key\": {\n          \"description\": \"Key is the taint key that the toleration applies to. Empty means match all taint keys. If the key is empty, operator must be Exists; this combination means to match all values and all keys.\",\n          \"type\": \"string\"\n         },\n         \"operator\": {\n          \"description\": \"Operator represents a key's relationship to the value. Valid operators are Exists and Equal. Defaults to Equal. Exists is equivalent to wildcard for value, so that a pod can tolerate all taints of a particular category.\",\n          \"type\": \"string\"\n         },\n         \"tolerationSeconds\": {\n          \"description\": \"TolerationSeconds represents the period of time the toleration (which must be of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default, it is not set, which means tolerate the taint forever (do not evict). Zero and negative values will be treated as 0 (evict immediately) by the system.\",\n          \"format\": \"int64\",\n          \"type\": \"integer\"\n         },\n         \"value\": {\n          \"description\": \"Value is the taint value the toleration matches to. If the operator is Exists, the value should be empty, otherwise just a regular string.\",\n          \"type\": \"string\"\n         }\n        },\n        \"type\": \"object\"\n       },\n       \"type\": \"array\"\n      }\n     },\n     \"type\": \"object\"\n    },\n    \"envoy\": {\n     \"description\": \"Envoy describes node scheduling configuration of Envoy pods.\",\n     \"properties\": {\n      \"nodeSelector\": {\n       \"additionalProperties\": {\n        \"type\": \"string\"\n       },\n       \"description\": \"NodeSelector is the simplest recommended form of node selection constraint and specifies a map of key-value pairs. For the Envoy pod to be eligible to run on a node, the node must have each of the indicated key-value pairs as labels (it can have additional labels as well). \\n If unset, the Envoy pod(s) will be scheduled to any available node.\",\n       \"type\": \"object\"\n      },\n      \"tolerations\": {\n       \"description\": \"Tolerations work with taints to ensure that Envoy pods are not scheduled onto inappropriate nodes. One or more taints are applied to a node; this marks that the node should not accept any pods that do not tolerate the taints. \\n The default is an empty list. \\n See https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/ for additional details.\",\n       \"items\": {\n        \"description\": \"The pod this Toleration is attached to tolerates any taint that matches the triple \\u003ckey,value,effect\\u003e using the matching operator \\u003coperator\\u003e.\",\n        \"properties\": {\n         \"effect\": {\n          \"description\": \"Effect indicates the taint effect to match. Empty means match all taint effects. When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.\",\n          \"type\": \"string\"\n         },\n         \"key\": {\n          \"description\": \"Key is the taint key that the toleration applies to. Empty means match all taint keys. If the key is empty, operator must be Exists; this combination means to match all values and all keys.\",\n          \"type\": \"string\"\n         },\n         \"operator\": {\n          \"description\": \"Operator represents a key's relationship to the value. Valid operators are Exists and Equal. Defaults to Equal. Exists is equivalent to wildcard for value, so that a pod can tolerate all taints of a particular category.\",\n          \"type\": \"string\"\n         },\n         \"tolerationSeconds\": {\n          \"description\": \"TolerationSeconds represents the period of time the toleration (which must be of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default, it is not set, which means tolerate the taint forever (do not evict). Zero and negative values will be treated as 0 (evict immediately) by the system.\",\n          \"format\": \"int64\",\n          \"type\": \"integer\"\n         },\n         \"value\": {\n          \"description\": \"Value is the taint value the toleration matches to. If the operator is Exists, the value should be empty, otherwise just a regular string.\",\n          \"type\": \"string\"\n         }\n        },\n        \"type\": \"object\"\n       },\n       \"type\": \"array\"\n      }\n     },\n     \"type\": \"object\"\n    }\n   },\n   \"type\": \"object\"\n  },\n  \"replicas\": {\n   \"default\": 2,\n   \"description\": \"Replicas is the desired number of Contour replicas. If unset, defaults to 2.\",\n   \"format\": \"int32\",\n   \"minimum\": 0,\n   \"type\": \"integer\"\n  }\n },\n \"title\": \"Contour\",\n \"type\": \"object\"\n}"}