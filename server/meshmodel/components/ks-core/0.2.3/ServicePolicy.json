{"kind":"ServicePolicy","apiVersion":"servicemesh.kubesphere.io/v1alpha2","displayName":"Service Policy","format":"JSON","metadata":{"genealogy":"","logoURL":"https://layer5.io/company/brand","model":"ks-core","modelDisplayName":"ks-core","primaryColor":"#00B39F","published":false,"secondaryColor":"#00D3A9","shape":"circle","styleOverrides":"","subCategory":"Uncategorized","svgColor":"\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\u003c!DOCTYPE svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 32 32\" fill=\"none\"\u003e\n\u003cg xmlns=\"http://www.w3.org/2000/svg\" clip-path=\"url(#clip0_36_80)\"\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M16.4632 7.69351V15.2015L22.9702 11.4346L16.4632 7.69351Z\" fill=\"white\"\u003e\u003c/path\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M16.4632 16.7705V24.3157L23.0307 20.5607L16.4632 16.7705Z\" fill=\"white\"\u003e\u003c/path\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M15.5274 15.1502V7.75632L9.10194 11.4416L15.5274 15.1502Z\" fill=\"white\" fill-opacity=\"0.8\"\u003e\u003c/path\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M2.63699 24.2878C3.89756 26.3157 5.60178 28.031 7.62134 29.3047V21.4033L2.63699 24.2878Z\" fill=\"white\" fill-opacity=\"0.8\"\u003e\u003c/path\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M15.5274 24.2785V16.8264L9.08579 20.556L15.5274 24.2785Z\" fill=\"white\" fill-opacity=\"0.8\"\u003e\u003c/path\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M8.55965 28.8344L15.0829 25.1049L8.55965 21.3335V28.8344Z\" fill=\"white\"\u003e\u003c/path\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M23.4753 28.8742V21.3848L16.9615 25.1096L23.4753 28.8742Z\" fill=\"white\" fill-opacity=\"0.8\"\u003e\u003c/path\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M29.852 23.4194C30.9655 21.341 31.5949 19.0378 31.6935 16.6819L24.9119 20.5651L29.852 23.4194Z\" fill=\"white\" fill-opacity=\"0.8\"\u003e\u003c/path\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M24.4136 19.7691L30.96 16.0256L24.4136 12.2634V19.7691Z\" fill=\"white\"\u003e\u003c/path\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M23.4755 10.6455V3.20041L16.9919 6.91827L23.4755 10.6455Z\" fill=\"white\" fill-opacity=\"0.8\"\u003e\u003c/path\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M23.4754 19.7364V12.2239L16.9779 15.986L23.4754 19.7364Z\" fill=\"white\" fill-opacity=\"0.8\"\u003e\u003c/path\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M8.55965 12.2099V19.7784L15.1061 15.9882L8.55965 12.2099Z\" fill=\"white\"\u003e\u003c/path\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M15.5274 0.285706C13.1176 0.353534 10.756 0.977397 8.6271 2.10855L15.5274 6.06621V0.285706Z\" fill=\"white\" fill-opacity=\"0.8\"\u003e\u003c/path\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M8.55965 3.1492V10.6734L15.1107 6.91597L8.55965 3.1492Z\" fill=\"white\"\u003e\u003c/path\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M7.62134 2.69299C5.60228 3.96735 3.89818 5.6826 2.63699 7.7099L7.62134 10.5873V2.69299Z\" fill=\"white\" fill-opacity=\"0.8\"\u003e\u003c/path\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M23.4335 2.14811C21.2869 0.992986 18.9001 0.355226 16.4632 0.285706V6.14069L23.4335 2.14811Z\" fill=\"white\"\u003e\u003c/path\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M0.285713 16.5517C0.367085 18.9754 1.01023 21.3471 2.16447 23.4799L7.21396 20.5559L0.285713 16.5517Z\" fill=\"white\"\u003e\u003c/path\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M2.16447 8.51996C1.01384 10.6433 0.370833 13.0043 0.285713 15.4178L7.22097 11.4393L2.16447 8.51996Z\" fill=\"white\"\u003e\u003c/path\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M8.61544 29.8822C10.7469 31.0189 13.1128 31.6461 15.5274 31.7143V25.9291L8.61544 29.8822Z\" fill=\"white\" fill-opacity=\"0.8\"\u003e\u003c/path\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M29.3675 7.73539C28.1143 5.71396 26.4208 4.00147 24.4136 2.72543V10.5987L29.3675 7.73539Z\" fill=\"white\"\u003e\u003c/path\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M24.4136 29.2791C26.4312 27.994 28.1314 26.2684 29.3863 24.2321L24.4136 21.3591V29.2791Z\" fill=\"white\"\u003e\u003c/path\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M31.7143 15.3738C31.6251 12.9835 30.9879 10.6458 29.8518 8.54102L24.8441 11.4325L31.7143 15.3738Z\" fill=\"white\" fill-opacity=\"0.8\"\u003e\u003c/path\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M16.4632 31.7143C18.8725 31.6467 21.2333 31.0229 23.3613 29.8914L16.4632 25.8942V31.7143Z\" fill=\"white\"\u003e\u003c/path\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M7.62141 19.711V12.2892L1.17738 15.9838L7.62141 19.711Z\" fill=\"white\" fill-opacity=\"0.8\"\u003e\u003c/path\u003e\n\u003c/g\u003e\n\u003cdefs xmlns=\"http://www.w3.org/2000/svg\"\u003e\n\u003cclipPath xmlns=\"http://www.w3.org/2000/svg\" id=\"clip0_36_80\"\u003e\n\u003crect xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"white\"\u003e\u003c/rect\u003e\n\u003c/clipPath\u003e\n\u003c/defs\u003e\n\u003c/svg\u003e","svgComplete":"","svgWhite":"\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\u003c!DOCTYPE svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 32 32\" fill=\"none\"\u003e\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M16.405 8.732v6.57l5.694-3.297-5.694-3.273Zm0 7.942v6.602l5.747-3.285-5.747-3.317Z\" fill=\"#fff\"\u003e\u003c/path\u003e\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M15.586 15.256v-6.47l-5.622 3.225 5.622 3.245ZM4.307 23.252a13.809 13.809 0 0 0 4.362 4.39v-6.914l-4.362 2.524Zm11.279-.008v-6.52L9.95 19.985l5.636 3.258Z\" fill=\"#fff\" fill-opacity=\".8\"\u003e\u003c/path\u003e\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"m9.49 27.23 5.707-3.263-5.707-3.3v6.563Z\" fill=\"#fff\"\u003e\u003c/path\u003e\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M22.54 27.265v-6.553l-5.699 3.259 5.7 3.294Zm5.58-4.773a13.697 13.697 0 0 0 1.612-5.895l-5.934 3.397 4.323 2.498Z\" fill=\"#fff\" fill-opacity=\".8\"\u003e\u003c/path\u003e\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"m23.362 19.298 5.728-3.276-5.728-3.291v6.567Z\" fill=\"#fff\"\u003e\u003c/path\u003e\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M22.541 11.315V4.8l-5.673 3.253 5.673 3.262Zm0 7.955v-6.574l-5.685 3.292 5.685 3.281Z\" fill=\"#fff\" fill-opacity=\".8\"\u003e\u003c/path\u003e\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M9.49 12.684v6.622l5.728-3.316-5.728-3.306Z\" fill=\"#fff\"\u003e\u003c/path\u003e\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M15.586 2.25a13.69 13.69 0 0 0-6.037 1.595l6.037 3.463V2.25Z\" fill=\"#fff\" fill-opacity=\".8\"\u003e\u003c/path\u003e\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M9.49 4.756v6.583l5.732-3.288L9.49 4.756Z\" fill=\"#fff\"\u003e\u003c/path\u003e\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M8.669 4.356a13.83 13.83 0 0 0-4.362 4.39l4.362 2.518V4.356Z\" fill=\"#fff\" fill-opacity=\".8\"\u003e\u003c/path\u003e\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M22.504 3.88a13.695 13.695 0 0 0-6.099-1.63v5.123l6.1-3.493ZM2.25 16.483c.071 2.12.634 4.196 1.644 6.062l4.418-2.559-6.062-3.503Zm1.644-7.028a13.68 13.68 0 0 0-1.644 6.036l6.068-3.482-4.424-2.554Z\" fill=\"#fff\"\u003e\u003c/path\u003e\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M9.539 28.147a13.673 13.673 0 0 0 6.047 1.603v-5.062L9.54 28.147Z\" fill=\"#fff\" fill-opacity=\".8\"\u003e\u003c/path\u003e\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M27.697 8.768a13.83 13.83 0 0 0-4.335-4.383v6.889l4.335-2.506ZM23.362 27.62a13.851 13.851 0 0 0 4.351-4.417l-4.351-2.514v6.93Z\" fill=\"#fff\"\u003e\u003c/path\u003e\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M29.75 15.452a13.659 13.659 0 0 0-1.63-5.979l-4.381 2.53 6.011 3.45Z\" fill=\"#fff\" fill-opacity=\".8\"\u003e\u003c/path\u003e\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M16.405 29.75a13.673 13.673 0 0 0 6.036-1.595l-6.036-3.498v5.093Z\" fill=\"#fff\"\u003e\u003c/path\u003e\u003cpath xmlns=\"http://www.w3.org/2000/svg\" d=\"M8.669 19.247v-6.494L3.03 15.986l5.639 3.261Z\" fill=\"#fff\" fill-opacity=\".8\"\u003e\u003c/path\u003e\u003c/svg\u003e"},"model":{"name":"ks-core","version":"0.2.3","displayName":"ks-core","category":{"name":"Uncategorized","metadata":null},"metadata":null},"schema":"{\n \"description\": \"ServicePolicySpec defines the desired state of ServicePolicy\",\n \"properties\": {\n  \"selector\": {\n   \"description\": \"Label selector for destination rules.\",\n   \"properties\": {\n    \"matchExpressions\": {\n     \"description\": \"matchExpressions is a list of label selector requirements. The requirements are ANDed.\",\n     \"items\": {\n      \"description\": \"A label selector requirement is a selector that contains values, a key, and an operator that relates the key and values.\",\n      \"properties\": {\n       \"key\": {\n        \"description\": \"key is the label key that the selector applies to.\",\n        \"type\": \"string\"\n       },\n       \"operator\": {\n        \"description\": \"operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.\",\n        \"type\": \"string\"\n       },\n       \"values\": {\n        \"description\": \"values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.\",\n        \"items\": {\n         \"type\": \"string\"\n        },\n        \"type\": \"array\"\n       }\n      },\n      \"required\": [\n       \"key\",\n       \"operator\"\n      ],\n      \"type\": \"object\"\n     },\n     \"type\": \"array\"\n    },\n    \"matchLabels\": {\n     \"additionalProperties\": {\n      \"type\": \"string\"\n     },\n     \"description\": \"matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is \\\"key\\\", the operator is \\\"In\\\", and the values array contains only \\\"value\\\". The requirements are ANDed.\",\n     \"type\": \"object\"\n    }\n   },\n   \"type\": \"object\",\n   \"x-kubernetes-map-type\": \"atomic\"\n  },\n  \"template\": {\n   \"description\": \"Template used to create a destination rule\",\n   \"properties\": {\n    \"metadata\": {\n     \"description\": \"Metadata of the virtual services created from this template\",\n     \"type\": \"object\"\n    },\n    \"spec\": {\n     \"description\": \"Spec indicates the behavior of a destination rule.\",\n     \"properties\": {\n      \"export_to\": {\n       \"description\": \"A list of namespaces to which this destination rule is exported. The resolution of a destination rule to apply to a service occurs in the context of a hierarchy of namespaces. Exporting a destination rule allows it to be included in the resolution hierarchy for services in other namespaces. This feature provides a mechanism for service owners and mesh administrators to control the visibility of destination rules across namespace boundaries. \\n If no namespaces are specified then the destination rule is exported to all namespaces by default. \\n The value \\\".\\\" is reserved and defines an export to the same namespace that the destination rule is declared in. Similarly, the value \\\"*\\\" is reserved and defines an export to all namespaces. \\n NOTE: in the current release, the `exportTo` value is restricted to \\\".\\\" or \\\"*\\\" (i.e., the current namespace or all namespaces).\",\n       \"items\": {\n        \"type\": \"string\"\n       },\n       \"type\": \"array\"\n      },\n      \"host\": {\n       \"description\": \"The name of a service from the service registry. Service names are looked up from the platform's service registry (e.g., Kubernetes services, Consul services, etc.) and from the hosts declared by [ServiceEntries](https://istio.io/docs/reference/config/networking/service-entry/#ServiceEntry). Rules defined for services that do not exist in the service registry will be ignored. \\n *Note for Kubernetes users*: When short names are used (e.g. \\\"reviews\\\" instead of \\\"reviews.default.svc.cluster.local\\\"), Istio will interpret the short name based on the namespace of the rule, not the service. A rule in the \\\"default\\\" namespace containing a host \\\"reviews\\\" will be interpreted as \\\"reviews.default.svc.cluster.local\\\", irrespective of the actual namespace associated with the reviews service. _To avoid potential misconfigurations, it is recommended to always use fully qualified domain names over short names._ \\n Note that the host field applies to both HTTP and TCP services.\",\n       \"type\": \"string\"\n      },\n      \"subsets\": {\n       \"description\": \"One or more named sets that represent individual versions of a service. Traffic policies can be overridden at subset level.\",\n       \"items\": {\n        \"description\": \"A subset of endpoints of a service. Subsets can be used for scenarios like A/B testing, or routing to a specific version of a service. Refer to [VirtualService](https://istio.io/docs/reference/config/networking/virtual-service/#VirtualService) documentation for examples of using subsets in these scenarios. In addition, traffic policies defined at the service-level can be overridden at a subset-level. The following rule uses a round robin load balancing policy for all traffic going to a subset named testversion that is composed of endpoints (e.g., pods) with labels (version:v3). \\n {{\\u003ctabset category-name=\\\"example\\\"\\u003e}} {{\\u003ctab name=\\\"v1alpha3\\\" category-value=\\\"v1alpha3\\\"\\u003e}} ```yaml apiVersion: networking.istio.io/v1alpha3 kind: DestinationRule metadata: name: bookinfo-ratings spec: host: ratings.prod.svc.cluster.local trafficPolicy: loadBalancer: simple: LEAST_CONN subsets: - name: testversion labels: version: v3 trafficPolicy: loadBalancer: simple: ROUND_ROBIN ``` {{\\u003c/tab\\u003e}} \\n {{\\u003ctab name=\\\"v1beta1\\\" category-value=\\\"v1beta1\\\"\\u003e}} ```yaml apiVersion: networking.istio.io/v1beta1 kind: DestinationRule metadata: name: bookinfo-ratings spec: host: ratings.prod.svc.cluster.local trafficPolicy: loadBalancer: simple: LEAST_CONN subsets: - name: testversion labels: version: v3 trafficPolicy: loadBalancer: simple: ROUND_ROBIN ``` {{\\u003c/tab\\u003e}} {{\\u003c/tabset\\u003e}} \\n **Note:** Policies specified for subsets will not take effect until a route rule explicitly sends traffic to this subset. \\n One or more labels are typically required to identify the subset destination, however, when the corresponding DestinationRule represents a host that supports multiple SNI hosts (e.g., an egress gateway), a subset without labels may be meaningful. In this case a traffic policy with [ClientTLSSettings](#ClientTLSSettings) can be used to identify a specific SNI host corresponding to the named subset.\",\n        \"properties\": {\n         \"labels\": {\n          \"additionalProperties\": {\n           \"type\": \"string\"\n          },\n          \"description\": \"Labels apply a filter over the endpoints of a service in the service registry. See route rules for examples of usage.\",\n          \"type\": \"object\"\n         },\n         \"name\": {\n          \"description\": \"Name of the subset. The service name and the subset name can be used for traffic splitting in a route rule.\",\n          \"type\": \"string\"\n         },\n         \"traffic_policy\": {\n          \"description\": \"Traffic policies that apply to this subset. Subsets inherit the traffic policies specified at the DestinationRule level. Settings specified at the subset level will override the corresponding settings specified at the DestinationRule level.\",\n          \"properties\": {\n           \"connection_pool\": {\n            \"description\": \"Settings controlling the volume of connections to an upstream service\",\n            \"properties\": {\n             \"http\": {\n              \"description\": \"HTTP connection pool settings.\",\n              \"properties\": {\n               \"h2_upgrade_policy\": {\n                \"description\": \"Specify if http1.1 connection should be upgraded to http2 for the associated destination.\",\n                \"format\": \"int32\",\n                \"type\": \"integer\"\n               },\n               \"http1_max_pending_requests\": {\n                \"description\": \"Maximum number of pending HTTP requests to a destination. Default 2^32-1.\",\n                \"format\": \"int32\",\n                \"type\": \"integer\"\n               },\n               \"http2_max_requests\": {\n                \"description\": \"Maximum number of requests to a backend. Default 2^32-1.\",\n                \"format\": \"int32\",\n                \"type\": \"integer\"\n               },\n               \"idle_timeout\": {\n                \"description\": \"The idle timeout for upstream connection pool connections. The idle timeout is defined as the period in which there are no active requests. If not set, the default is 1 hour. When the idle timeout is reached the connection will be closed. Note that request based timeouts mean that HTTP/2 PINGs will not keep the connection alive. Applies to both HTTP1.1 and HTTP2 connections.\",\n                \"properties\": {\n                 \"nanos\": {\n                  \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n                  \"format\": \"int32\",\n                  \"type\": \"integer\"\n                 },\n                 \"seconds\": {\n                  \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n                  \"format\": \"int64\",\n                  \"type\": \"integer\"\n                 }\n                },\n                \"type\": \"object\"\n               },\n               \"max_requests_per_connection\": {\n                \"description\": \"Maximum number of requests per connection to a backend. Setting this parameter to 1 disables keep alive. Default 0, meaning \\\"unlimited\\\", up to 2^29.\",\n                \"format\": \"int32\",\n                \"type\": \"integer\"\n               },\n               \"max_retries\": {\n                \"description\": \"Maximum number of retries that can be outstanding to all hosts in a cluster at a given time. Defaults to 2^32-1.\",\n                \"format\": \"int32\",\n                \"type\": \"integer\"\n               }\n              },\n              \"type\": \"object\"\n             },\n             \"tcp\": {\n              \"description\": \"Settings common to both HTTP and TCP upstream connections.\",\n              \"properties\": {\n               \"connect_timeout\": {\n                \"description\": \"TCP connection timeout. format: 1h/1m/1s/1ms. MUST BE \\u003e=1ms. Default is 10s.\",\n                \"properties\": {\n                 \"nanos\": {\n                  \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n                  \"format\": \"int32\",\n                  \"type\": \"integer\"\n                 },\n                 \"seconds\": {\n                  \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n                  \"format\": \"int64\",\n                  \"type\": \"integer\"\n                 }\n                },\n                \"type\": \"object\"\n               },\n               \"max_connections\": {\n                \"description\": \"Maximum number of HTTP1 /TCP connections to a destination host. Default 2^32-1.\",\n                \"format\": \"int32\",\n                \"type\": \"integer\"\n               },\n               \"tcp_keepalive\": {\n                \"description\": \"If set then set SO_KEEPALIVE on the socket to enable TCP Keepalives.\",\n                \"properties\": {\n                 \"interval\": {\n                  \"description\": \"The time duration between keep-alive probes. Default is to use the OS level configuration (unless overridden, Linux defaults to 75s.)\",\n                  \"properties\": {\n                   \"nanos\": {\n                    \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n                    \"format\": \"int32\",\n                    \"type\": \"integer\"\n                   },\n                   \"seconds\": {\n                    \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n                    \"format\": \"int64\",\n                    \"type\": \"integer\"\n                   }\n                  },\n                  \"type\": \"object\"\n                 },\n                 \"probes\": {\n                  \"description\": \"Maximum number of keepalive probes to send without response before deciding the connection is dead. Default is to use the OS level configuration (unless overridden, Linux defaults to 9.)\",\n                  \"format\": \"int32\",\n                  \"type\": \"integer\"\n                 },\n                 \"time\": {\n                  \"description\": \"The time duration a connection needs to be idle before keep-alive probes start being sent. Default is to use the OS level configuration (unless overridden, Linux defaults to 7200s (ie 2 hours.)\",\n                  \"properties\": {\n                   \"nanos\": {\n                    \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n                    \"format\": \"int32\",\n                    \"type\": \"integer\"\n                   },\n                   \"seconds\": {\n                    \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n                    \"format\": \"int64\",\n                    \"type\": \"integer\"\n                   }\n                  },\n                  \"type\": \"object\"\n                 }\n                },\n                \"type\": \"object\"\n               }\n              },\n              \"type\": \"object\"\n             }\n            },\n            \"type\": \"object\"\n           },\n           \"load_balancer\": {\n            \"description\": \"Settings controlling the load balancer algorithms.\",\n            \"properties\": {\n             \"locality_lb_setting\": {\n              \"description\": \"Locality load balancer settings, this will override mesh wide settings in entirety, meaning no merging would be performed between this object and the object one in MeshConfig\",\n              \"properties\": {\n               \"distribute\": {\n                \"description\": \"Optional: only one of distribute or failover can be set. Explicitly specify loadbalancing weight across different zones and geographical locations. Refer to [Locality weighted load balancing](https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/upstream/load_balancing/locality_weight) If empty, the locality weight is set according to the endpoints number within it.\",\n                \"items\": {\n                 \"description\": \"Describes how traffic originating in the 'from' zone or sub-zone is distributed over a set of 'to' zones. Syntax for specifying a zone is {region}/{zone}/{sub-zone} and terminal wildcards are allowed on any segment of the specification. Examples: * - matches all localities us-west/* - all zones and sub-zones within the us-west region us-west/zone-1/* - all sub-zones within us-west/zone-1\",\n                 \"properties\": {\n                  \"from\": {\n                   \"description\": \"Originating locality, '/' separated, e.g. 'region/zone/sub_zone'.\",\n                   \"type\": \"string\"\n                  },\n                  \"to\": {\n                   \"additionalProperties\": {\n                    \"format\": \"int32\",\n                    \"type\": \"integer\"\n                   },\n                   \"description\": \"Map of upstream localities to traffic distribution weights. The sum of all weights should be == 100. Any locality not assigned a weight will receive no traffic.\",\n                   \"type\": \"object\"\n                  }\n                 },\n                 \"type\": \"object\"\n                },\n                \"type\": \"array\"\n               },\n               \"enabled\": {\n                \"description\": \"enable locality load balancing, this is DestinationRule-level and will override mesh wide settings in entirety. e.g. true means that turn on locality load balancing for this DestinationRule no matter what mesh wide settings is.\",\n                \"properties\": {\n                 \"value\": {\n                  \"description\": \"The bool value.\",\n                  \"type\": \"boolean\"\n                 }\n                },\n                \"type\": \"object\"\n               },\n               \"failover\": {\n                \"description\": \"Optional: only failover or distribute can be set. Explicitly specify the region traffic will land on when endpoints in local region becomes unhealthy. Should be used together with OutlierDetection to detect unhealthy endpoints. Note: if no OutlierDetection specified, this will not take effect.\",\n                \"items\": {\n                 \"description\": \"Specify the traffic failover policy across regions. Since zone and sub-zone failover is supported by default this only needs to be specified for regions when the operator needs to constrain traffic failover so that the default behavior of failing over to any endpoint globally does not apply. This is useful when failing over traffic across regions would not improve service health or may need to be restricted for other reasons like regulatory controls.\",\n                 \"properties\": {\n                  \"from\": {\n                   \"description\": \"Originating region.\",\n                   \"type\": \"string\"\n                  },\n                  \"to\": {\n                   \"description\": \"Destination region the traffic will fail over to when endpoints in the 'from' region becomes unhealthy.\",\n                   \"type\": \"string\"\n                  }\n                 },\n                 \"type\": \"object\"\n                },\n                \"type\": \"array\"\n               }\n              },\n              \"type\": \"object\"\n             }\n            },\n            \"type\": \"object\"\n           },\n           \"outlier_detection\": {\n            \"description\": \"Settings controlling eviction of unhealthy hosts from the load balancing pool\",\n            \"properties\": {\n             \"base_ejection_time\": {\n              \"description\": \"Minimum ejection duration. A host will remain ejected for a period equal to the product of minimum ejection duration and the number of times the host has been ejected. This technique allows the system to automatically increase the ejection period for unhealthy upstream servers. format: 1h/1m/1s/1ms. MUST BE \\u003e=1ms. Default is 30s.\",\n              \"properties\": {\n               \"nanos\": {\n                \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n                \"format\": \"int32\",\n                \"type\": \"integer\"\n               },\n               \"seconds\": {\n                \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n                \"format\": \"int64\",\n                \"type\": \"integer\"\n               }\n              },\n              \"type\": \"object\"\n             },\n             \"consecutive_5xx_errors\": {\n              \"description\": \"Number of 5xx errors before a host is ejected from the connection pool. When the upstream host is accessed over an opaque TCP connection, connect timeouts, connection error/failure and request failure events qualify as a 5xx error. This feature defaults to 5 but can be disabled by setting the value to 0. \\n Note that consecutive_gateway_errors and consecutive_5xx_errors can be used separately or together. Because the errors counted by consecutive_gateway_errors are also included in consecutive_5xx_errors, if the value of consecutive_gateway_errors is greater than or equal to the value of consecutive_5xx_errors, consecutive_gateway_errors will have no effect.\",\n              \"properties\": {\n               \"value\": {\n                \"description\": \"The uint32 value.\",\n                \"format\": \"int32\",\n                \"type\": \"integer\"\n               }\n              },\n              \"type\": \"object\"\n             },\n             \"consecutive_errors\": {\n              \"description\": \"Number of errors before a host is ejected from the connection pool. Defaults to 5. When the upstream host is accessed over HTTP, a 502, 503, or 504 return code qualifies as an error. When the upstream host is accessed over an opaque TCP connection, connect timeouts and connection error/failure events qualify as an error. $hide_from_docs\",\n              \"format\": \"int32\",\n              \"type\": \"integer\"\n             },\n             \"consecutive_gateway_errors\": {\n              \"description\": \"Number of gateway errors before a host is ejected from the connection pool. When the upstream host is accessed over HTTP, a 502, 503, or 504 return code qualifies as a gateway error. When the upstream host is accessed over an opaque TCP connection, connect timeouts and connection error/failure events qualify as a gateway error. This feature is disabled by default or when set to the value 0. \\n Note that consecutive_gateway_errors and consecutive_5xx_errors can be used separately or together. Because the errors counted by consecutive_gateway_errors are also included in consecutive_5xx_errors, if the value of consecutive_gateway_errors is greater than or equal to the value of consecutive_5xx_errors, consecutive_gateway_errors will have no effect.\",\n              \"properties\": {\n               \"value\": {\n                \"description\": \"The uint32 value.\",\n                \"format\": \"int32\",\n                \"type\": \"integer\"\n               }\n              },\n              \"type\": \"object\"\n             },\n             \"interval\": {\n              \"description\": \"Time interval between ejection sweep analysis. format: 1h/1m/1s/1ms. MUST BE \\u003e=1ms. Default is 10s.\",\n              \"properties\": {\n               \"nanos\": {\n                \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n                \"format\": \"int32\",\n                \"type\": \"integer\"\n               },\n               \"seconds\": {\n                \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n                \"format\": \"int64\",\n                \"type\": \"integer\"\n               }\n              },\n              \"type\": \"object\"\n             },\n             \"max_ejection_percent\": {\n              \"description\": \"Maximum % of hosts in the load balancing pool for the upstream service that can be ejected. Defaults to 10%.\",\n              \"format\": \"int32\",\n              \"type\": \"integer\"\n             },\n             \"min_health_percent\": {\n              \"description\": \"Outlier detection will be enabled as long as the associated load balancing pool has at least min_health_percent hosts in healthy mode. When the percentage of healthy hosts in the load balancing pool drops below this threshold, outlier detection will be disabled and the proxy will load balance across all hosts in the pool (healthy and unhealthy). The threshold can be disabled by setting it to 0%. The default is 0% as it's not typically applicable in k8s environments with few pods per service.\",\n              \"format\": \"int32\",\n              \"type\": \"integer\"\n             }\n            },\n            \"type\": \"object\"\n           },\n           \"port_level_settings\": {\n            \"description\": \"Traffic policies specific to individual ports. Note that port level settings will override the destination-level settings. Traffic settings specified at the destination-level will not be inherited when overridden by port-level settings, i.e. default values will be applied to fields omitted in port-level traffic policies.\",\n            \"items\": {\n             \"description\": \"Traffic policies that apply to specific ports of the service\",\n             \"properties\": {\n              \"connection_pool\": {\n               \"description\": \"Settings controlling the volume of connections to an upstream service\",\n               \"properties\": {\n                \"http\": {\n                 \"description\": \"HTTP connection pool settings.\",\n                 \"properties\": {\n                  \"h2_upgrade_policy\": {\n                   \"description\": \"Specify if http1.1 connection should be upgraded to http2 for the associated destination.\",\n                   \"format\": \"int32\",\n                   \"type\": \"integer\"\n                  },\n                  \"http1_max_pending_requests\": {\n                   \"description\": \"Maximum number of pending HTTP requests to a destination. Default 2^32-1.\",\n                   \"format\": \"int32\",\n                   \"type\": \"integer\"\n                  },\n                  \"http2_max_requests\": {\n                   \"description\": \"Maximum number of requests to a backend. Default 2^32-1.\",\n                   \"format\": \"int32\",\n                   \"type\": \"integer\"\n                  },\n                  \"idle_timeout\": {\n                   \"description\": \"The idle timeout for upstream connection pool connections. The idle timeout is defined as the period in which there are no active requests. If not set, the default is 1 hour. When the idle timeout is reached the connection will be closed. Note that request based timeouts mean that HTTP/2 PINGs will not keep the connection alive. Applies to both HTTP1.1 and HTTP2 connections.\",\n                   \"properties\": {\n                    \"nanos\": {\n                     \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n                     \"format\": \"int32\",\n                     \"type\": \"integer\"\n                    },\n                    \"seconds\": {\n                     \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n                     \"format\": \"int64\",\n                     \"type\": \"integer\"\n                    }\n                   },\n                   \"type\": \"object\"\n                  },\n                  \"max_requests_per_connection\": {\n                   \"description\": \"Maximum number of requests per connection to a backend. Setting this parameter to 1 disables keep alive. Default 0, meaning \\\"unlimited\\\", up to 2^29.\",\n                   \"format\": \"int32\",\n                   \"type\": \"integer\"\n                  },\n                  \"max_retries\": {\n                   \"description\": \"Maximum number of retries that can be outstanding to all hosts in a cluster at a given time. Defaults to 2^32-1.\",\n                   \"format\": \"int32\",\n                   \"type\": \"integer\"\n                  }\n                 },\n                 \"type\": \"object\"\n                },\n                \"tcp\": {\n                 \"description\": \"Settings common to both HTTP and TCP upstream connections.\",\n                 \"properties\": {\n                  \"connect_timeout\": {\n                   \"description\": \"TCP connection timeout. format: 1h/1m/1s/1ms. MUST BE \\u003e=1ms. Default is 10s.\",\n                   \"properties\": {\n                    \"nanos\": {\n                     \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n                     \"format\": \"int32\",\n                     \"type\": \"integer\"\n                    },\n                    \"seconds\": {\n                     \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n                     \"format\": \"int64\",\n                     \"type\": \"integer\"\n                    }\n                   },\n                   \"type\": \"object\"\n                  },\n                  \"max_connections\": {\n                   \"description\": \"Maximum number of HTTP1 /TCP connections to a destination host. Default 2^32-1.\",\n                   \"format\": \"int32\",\n                   \"type\": \"integer\"\n                  },\n                  \"tcp_keepalive\": {\n                   \"description\": \"If set then set SO_KEEPALIVE on the socket to enable TCP Keepalives.\",\n                   \"properties\": {\n                    \"interval\": {\n                     \"description\": \"The time duration between keep-alive probes. Default is to use the OS level configuration (unless overridden, Linux defaults to 75s.)\",\n                     \"properties\": {\n                      \"nanos\": {\n                       \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n                       \"format\": \"int32\",\n                       \"type\": \"integer\"\n                      },\n                      \"seconds\": {\n                       \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n                       \"format\": \"int64\",\n                       \"type\": \"integer\"\n                      }\n                     },\n                     \"type\": \"object\"\n                    },\n                    \"probes\": {\n                     \"description\": \"Maximum number of keepalive probes to send without response before deciding the connection is dead. Default is to use the OS level configuration (unless overridden, Linux defaults to 9.)\",\n                     \"format\": \"int32\",\n                     \"type\": \"integer\"\n                    },\n                    \"time\": {\n                     \"description\": \"The time duration a connection needs to be idle before keep-alive probes start being sent. Default is to use the OS level configuration (unless overridden, Linux defaults to 7200s (ie 2 hours.)\",\n                     \"properties\": {\n                      \"nanos\": {\n                       \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n                       \"format\": \"int32\",\n                       \"type\": \"integer\"\n                      },\n                      \"seconds\": {\n                       \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n                       \"format\": \"int64\",\n                       \"type\": \"integer\"\n                      }\n                     },\n                     \"type\": \"object\"\n                    }\n                   },\n                   \"type\": \"object\"\n                  }\n                 },\n                 \"type\": \"object\"\n                }\n               },\n               \"type\": \"object\"\n              },\n              \"load_balancer\": {\n               \"description\": \"Settings controlling the load balancer algorithms.\",\n               \"properties\": {\n                \"locality_lb_setting\": {\n                 \"description\": \"Locality load balancer settings, this will override mesh wide settings in entirety, meaning no merging would be performed between this object and the object one in MeshConfig\",\n                 \"properties\": {\n                  \"distribute\": {\n                   \"description\": \"Optional: only one of distribute or failover can be set. Explicitly specify loadbalancing weight across different zones and geographical locations. Refer to [Locality weighted load balancing](https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/upstream/load_balancing/locality_weight) If empty, the locality weight is set according to the endpoints number within it.\",\n                   \"items\": {\n                    \"description\": \"Describes how traffic originating in the 'from' zone or sub-zone is distributed over a set of 'to' zones. Syntax for specifying a zone is {region}/{zone}/{sub-zone} and terminal wildcards are allowed on any segment of the specification. Examples: * - matches all localities us-west/* - all zones and sub-zones within the us-west region us-west/zone-1/* - all sub-zones within us-west/zone-1\",\n                    \"properties\": {\n                     \"from\": {\n                      \"description\": \"Originating locality, '/' separated, e.g. 'region/zone/sub_zone'.\",\n                      \"type\": \"string\"\n                     },\n                     \"to\": {\n                      \"additionalProperties\": {\n                       \"format\": \"int32\",\n                       \"type\": \"integer\"\n                      },\n                      \"description\": \"Map of upstream localities to traffic distribution weights. The sum of all weights should be == 100. Any locality not assigned a weight will receive no traffic.\",\n                      \"type\": \"object\"\n                     }\n                    },\n                    \"type\": \"object\"\n                   },\n                   \"type\": \"array\"\n                  },\n                  \"enabled\": {\n                   \"description\": \"enable locality load balancing, this is DestinationRule-level and will override mesh wide settings in entirety. e.g. true means that turn on locality load balancing for this DestinationRule no matter what mesh wide settings is.\",\n                   \"properties\": {\n                    \"value\": {\n                     \"description\": \"The bool value.\",\n                     \"type\": \"boolean\"\n                    }\n                   },\n                   \"type\": \"object\"\n                  },\n                  \"failover\": {\n                   \"description\": \"Optional: only failover or distribute can be set. Explicitly specify the region traffic will land on when endpoints in local region becomes unhealthy. Should be used together with OutlierDetection to detect unhealthy endpoints. Note: if no OutlierDetection specified, this will not take effect.\",\n                   \"items\": {\n                    \"description\": \"Specify the traffic failover policy across regions. Since zone and sub-zone failover is supported by default this only needs to be specified for regions when the operator needs to constrain traffic failover so that the default behavior of failing over to any endpoint globally does not apply. This is useful when failing over traffic across regions would not improve service health or may need to be restricted for other reasons like regulatory controls.\",\n                    \"properties\": {\n                     \"from\": {\n                      \"description\": \"Originating region.\",\n                      \"type\": \"string\"\n                     },\n                     \"to\": {\n                      \"description\": \"Destination region the traffic will fail over to when endpoints in the 'from' region becomes unhealthy.\",\n                      \"type\": \"string\"\n                     }\n                    },\n                    \"type\": \"object\"\n                   },\n                   \"type\": \"array\"\n                  }\n                 },\n                 \"type\": \"object\"\n                }\n               },\n               \"type\": \"object\"\n              },\n              \"outlier_detection\": {\n               \"description\": \"Settings controlling eviction of unhealthy hosts from the load balancing pool\",\n               \"properties\": {\n                \"base_ejection_time\": {\n                 \"description\": \"Minimum ejection duration. A host will remain ejected for a period equal to the product of minimum ejection duration and the number of times the host has been ejected. This technique allows the system to automatically increase the ejection period for unhealthy upstream servers. format: 1h/1m/1s/1ms. MUST BE \\u003e=1ms. Default is 30s.\",\n                 \"properties\": {\n                  \"nanos\": {\n                   \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n                   \"format\": \"int32\",\n                   \"type\": \"integer\"\n                  },\n                  \"seconds\": {\n                   \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n                   \"format\": \"int64\",\n                   \"type\": \"integer\"\n                  }\n                 },\n                 \"type\": \"object\"\n                },\n                \"consecutive_5xx_errors\": {\n                 \"description\": \"Number of 5xx errors before a host is ejected from the connection pool. When the upstream host is accessed over an opaque TCP connection, connect timeouts, connection error/failure and request failure events qualify as a 5xx error. This feature defaults to 5 but can be disabled by setting the value to 0. \\n Note that consecutive_gateway_errors and consecutive_5xx_errors can be used separately or together. Because the errors counted by consecutive_gateway_errors are also included in consecutive_5xx_errors, if the value of consecutive_gateway_errors is greater than or equal to the value of consecutive_5xx_errors, consecutive_gateway_errors will have no effect.\",\n                 \"properties\": {\n                  \"value\": {\n                   \"description\": \"The uint32 value.\",\n                   \"format\": \"int32\",\n                   \"type\": \"integer\"\n                  }\n                 },\n                 \"type\": \"object\"\n                },\n                \"consecutive_errors\": {\n                 \"description\": \"Number of errors before a host is ejected from the connection pool. Defaults to 5. When the upstream host is accessed over HTTP, a 502, 503, or 504 return code qualifies as an error. When the upstream host is accessed over an opaque TCP connection, connect timeouts and connection error/failure events qualify as an error. $hide_from_docs\",\n                 \"format\": \"int32\",\n                 \"type\": \"integer\"\n                },\n                \"consecutive_gateway_errors\": {\n                 \"description\": \"Number of gateway errors before a host is ejected from the connection pool. When the upstream host is accessed over HTTP, a 502, 503, or 504 return code qualifies as a gateway error. When the upstream host is accessed over an opaque TCP connection, connect timeouts and connection error/failure events qualify as a gateway error. This feature is disabled by default or when set to the value 0. \\n Note that consecutive_gateway_errors and consecutive_5xx_errors can be used separately or together. Because the errors counted by consecutive_gateway_errors are also included in consecutive_5xx_errors, if the value of consecutive_gateway_errors is greater than or equal to the value of consecutive_5xx_errors, consecutive_gateway_errors will have no effect.\",\n                 \"properties\": {\n                  \"value\": {\n                   \"description\": \"The uint32 value.\",\n                   \"format\": \"int32\",\n                   \"type\": \"integer\"\n                  }\n                 },\n                 \"type\": \"object\"\n                },\n                \"interval\": {\n                 \"description\": \"Time interval between ejection sweep analysis. format: 1h/1m/1s/1ms. MUST BE \\u003e=1ms. Default is 10s.\",\n                 \"properties\": {\n                  \"nanos\": {\n                   \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n                   \"format\": \"int32\",\n                   \"type\": \"integer\"\n                  },\n                  \"seconds\": {\n                   \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n                   \"format\": \"int64\",\n                   \"type\": \"integer\"\n                  }\n                 },\n                 \"type\": \"object\"\n                },\n                \"max_ejection_percent\": {\n                 \"description\": \"Maximum % of hosts in the load balancing pool for the upstream service that can be ejected. Defaults to 10%.\",\n                 \"format\": \"int32\",\n                 \"type\": \"integer\"\n                },\n                \"min_health_percent\": {\n                 \"description\": \"Outlier detection will be enabled as long as the associated load balancing pool has at least min_health_percent hosts in healthy mode. When the percentage of healthy hosts in the load balancing pool drops below this threshold, outlier detection will be disabled and the proxy will load balance across all hosts in the pool (healthy and unhealthy). The threshold can be disabled by setting it to 0%. The default is 0% as it's not typically applicable in k8s environments with few pods per service.\",\n                 \"format\": \"int32\",\n                 \"type\": \"integer\"\n                }\n               },\n               \"type\": \"object\"\n              },\n              \"port\": {\n               \"description\": \"Specifies the number of a port on the destination service on which this policy is being applied.\",\n               \"properties\": {\n                \"number\": {\n                 \"description\": \"Valid port number\",\n                 \"format\": \"int32\",\n                 \"type\": \"integer\"\n                }\n               },\n               \"type\": \"object\"\n              },\n              \"tls\": {\n               \"description\": \"TLS related settings for connections to the upstream service.\",\n               \"properties\": {\n                \"ca_certificates\": {\n                 \"description\": \"OPTIONAL: The path to the file containing certificate authority certificates to use in verifying a presented server certificate. If omitted, the proxy will not verify the server's certificate. Should be empty if mode is `ISTIO_MUTUAL`.\",\n                 \"type\": \"string\"\n                },\n                \"client_certificate\": {\n                 \"description\": \"REQUIRED if mode is `MUTUAL`. The path to the file holding the client-side TLS certificate to use. Should be empty if mode is `ISTIO_MUTUAL`.\",\n                 \"type\": \"string\"\n                },\n                \"mode\": {\n                 \"description\": \"Indicates whether connections to this port should be secured using TLS. The value of this field determines how TLS is enforced.\",\n                 \"format\": \"int32\",\n                 \"type\": \"integer\"\n                },\n                \"private_key\": {\n                 \"description\": \"REQUIRED if mode is `MUTUAL`. The path to the file holding the client's private key. Should be empty if mode is `ISTIO_MUTUAL`.\",\n                 \"type\": \"string\"\n                },\n                \"sni\": {\n                 \"description\": \"SNI string to present to the server during TLS handshake.\",\n                 \"type\": \"string\"\n                },\n                \"subject_alt_names\": {\n                 \"description\": \"A list of alternate names to verify the subject identity in the certificate. If specified, the proxy will verify that the server certificate's subject alt name matches one of the specified values. If specified, this list overrides the value of subject_alt_names from the ServiceEntry.\",\n                 \"items\": {\n                  \"type\": \"string\"\n                 },\n                 \"type\": \"array\"\n                }\n               },\n               \"type\": \"object\"\n              }\n             },\n             \"type\": \"object\"\n            },\n            \"type\": \"array\"\n           },\n           \"tls\": {\n            \"description\": \"TLS related settings for connections to the upstream service.\",\n            \"properties\": {\n             \"ca_certificates\": {\n              \"description\": \"OPTIONAL: The path to the file containing certificate authority certificates to use in verifying a presented server certificate. If omitted, the proxy will not verify the server's certificate. Should be empty if mode is `ISTIO_MUTUAL`.\",\n              \"type\": \"string\"\n             },\n             \"client_certificate\": {\n              \"description\": \"REQUIRED if mode is `MUTUAL`. The path to the file holding the client-side TLS certificate to use. Should be empty if mode is `ISTIO_MUTUAL`.\",\n              \"type\": \"string\"\n             },\n             \"mode\": {\n              \"description\": \"Indicates whether connections to this port should be secured using TLS. The value of this field determines how TLS is enforced.\",\n              \"format\": \"int32\",\n              \"type\": \"integer\"\n             },\n             \"private_key\": {\n              \"description\": \"REQUIRED if mode is `MUTUAL`. The path to the file holding the client's private key. Should be empty if mode is `ISTIO_MUTUAL`.\",\n              \"type\": \"string\"\n             },\n             \"sni\": {\n              \"description\": \"SNI string to present to the server during TLS handshake.\",\n              \"type\": \"string\"\n             },\n             \"subject_alt_names\": {\n              \"description\": \"A list of alternate names to verify the subject identity in the certificate. If specified, the proxy will verify that the server certificate's subject alt name matches one of the specified values. If specified, this list overrides the value of subject_alt_names from the ServiceEntry.\",\n              \"items\": {\n               \"type\": \"string\"\n              },\n              \"type\": \"array\"\n             }\n            },\n            \"type\": \"object\"\n           }\n          },\n          \"type\": \"object\"\n         }\n        },\n        \"type\": \"object\"\n       },\n       \"type\": \"array\"\n      },\n      \"traffic_policy\": {\n       \"description\": \"Traffic policies to apply (load balancing policy, connection pool sizes, outlier detection).\",\n       \"properties\": {\n        \"connection_pool\": {\n         \"description\": \"Settings controlling the volume of connections to an upstream service\",\n         \"properties\": {\n          \"http\": {\n           \"description\": \"HTTP connection pool settings.\",\n           \"properties\": {\n            \"h2_upgrade_policy\": {\n             \"description\": \"Specify if http1.1 connection should be upgraded to http2 for the associated destination.\",\n             \"format\": \"int32\",\n             \"type\": \"integer\"\n            },\n            \"http1_max_pending_requests\": {\n             \"description\": \"Maximum number of pending HTTP requests to a destination. Default 2^32-1.\",\n             \"format\": \"int32\",\n             \"type\": \"integer\"\n            },\n            \"http2_max_requests\": {\n             \"description\": \"Maximum number of requests to a backend. Default 2^32-1.\",\n             \"format\": \"int32\",\n             \"type\": \"integer\"\n            },\n            \"idle_timeout\": {\n             \"description\": \"The idle timeout for upstream connection pool connections. The idle timeout is defined as the period in which there are no active requests. If not set, the default is 1 hour. When the idle timeout is reached the connection will be closed. Note that request based timeouts mean that HTTP/2 PINGs will not keep the connection alive. Applies to both HTTP1.1 and HTTP2 connections.\",\n             \"properties\": {\n              \"nanos\": {\n               \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n               \"format\": \"int32\",\n               \"type\": \"integer\"\n              },\n              \"seconds\": {\n               \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n               \"format\": \"int64\",\n               \"type\": \"integer\"\n              }\n             },\n             \"type\": \"object\"\n            },\n            \"max_requests_per_connection\": {\n             \"description\": \"Maximum number of requests per connection to a backend. Setting this parameter to 1 disables keep alive. Default 0, meaning \\\"unlimited\\\", up to 2^29.\",\n             \"format\": \"int32\",\n             \"type\": \"integer\"\n            },\n            \"max_retries\": {\n             \"description\": \"Maximum number of retries that can be outstanding to all hosts in a cluster at a given time. Defaults to 2^32-1.\",\n             \"format\": \"int32\",\n             \"type\": \"integer\"\n            }\n           },\n           \"type\": \"object\"\n          },\n          \"tcp\": {\n           \"description\": \"Settings common to both HTTP and TCP upstream connections.\",\n           \"properties\": {\n            \"connect_timeout\": {\n             \"description\": \"TCP connection timeout. format: 1h/1m/1s/1ms. MUST BE \\u003e=1ms. Default is 10s.\",\n             \"properties\": {\n              \"nanos\": {\n               \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n               \"format\": \"int32\",\n               \"type\": \"integer\"\n              },\n              \"seconds\": {\n               \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n               \"format\": \"int64\",\n               \"type\": \"integer\"\n              }\n             },\n             \"type\": \"object\"\n            },\n            \"max_connections\": {\n             \"description\": \"Maximum number of HTTP1 /TCP connections to a destination host. Default 2^32-1.\",\n             \"format\": \"int32\",\n             \"type\": \"integer\"\n            },\n            \"tcp_keepalive\": {\n             \"description\": \"If set then set SO_KEEPALIVE on the socket to enable TCP Keepalives.\",\n             \"properties\": {\n              \"interval\": {\n               \"description\": \"The time duration between keep-alive probes. Default is to use the OS level configuration (unless overridden, Linux defaults to 75s.)\",\n               \"properties\": {\n                \"nanos\": {\n                 \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n                 \"format\": \"int32\",\n                 \"type\": \"integer\"\n                },\n                \"seconds\": {\n                 \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n                 \"format\": \"int64\",\n                 \"type\": \"integer\"\n                }\n               },\n               \"type\": \"object\"\n              },\n              \"probes\": {\n               \"description\": \"Maximum number of keepalive probes to send without response before deciding the connection is dead. Default is to use the OS level configuration (unless overridden, Linux defaults to 9.)\",\n               \"format\": \"int32\",\n               \"type\": \"integer\"\n              },\n              \"time\": {\n               \"description\": \"The time duration a connection needs to be idle before keep-alive probes start being sent. Default is to use the OS level configuration (unless overridden, Linux defaults to 7200s (ie 2 hours.)\",\n               \"properties\": {\n                \"nanos\": {\n                 \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n                 \"format\": \"int32\",\n                 \"type\": \"integer\"\n                },\n                \"seconds\": {\n                 \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n                 \"format\": \"int64\",\n                 \"type\": \"integer\"\n                }\n               },\n               \"type\": \"object\"\n              }\n             },\n             \"type\": \"object\"\n            }\n           },\n           \"type\": \"object\"\n          }\n         },\n         \"type\": \"object\"\n        },\n        \"load_balancer\": {\n         \"description\": \"Settings controlling the load balancer algorithms.\",\n         \"properties\": {\n          \"locality_lb_setting\": {\n           \"description\": \"Locality load balancer settings, this will override mesh wide settings in entirety, meaning no merging would be performed between this object and the object one in MeshConfig\",\n           \"properties\": {\n            \"distribute\": {\n             \"description\": \"Optional: only one of distribute or failover can be set. Explicitly specify loadbalancing weight across different zones and geographical locations. Refer to [Locality weighted load balancing](https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/upstream/load_balancing/locality_weight) If empty, the locality weight is set according to the endpoints number within it.\",\n             \"items\": {\n              \"description\": \"Describes how traffic originating in the 'from' zone or sub-zone is distributed over a set of 'to' zones. Syntax for specifying a zone is {region}/{zone}/{sub-zone} and terminal wildcards are allowed on any segment of the specification. Examples: * - matches all localities us-west/* - all zones and sub-zones within the us-west region us-west/zone-1/* - all sub-zones within us-west/zone-1\",\n              \"properties\": {\n               \"from\": {\n                \"description\": \"Originating locality, '/' separated, e.g. 'region/zone/sub_zone'.\",\n                \"type\": \"string\"\n               },\n               \"to\": {\n                \"additionalProperties\": {\n                 \"format\": \"int32\",\n                 \"type\": \"integer\"\n                },\n                \"description\": \"Map of upstream localities to traffic distribution weights. The sum of all weights should be == 100. Any locality not assigned a weight will receive no traffic.\",\n                \"type\": \"object\"\n               }\n              },\n              \"type\": \"object\"\n             },\n             \"type\": \"array\"\n            },\n            \"enabled\": {\n             \"description\": \"enable locality load balancing, this is DestinationRule-level and will override mesh wide settings in entirety. e.g. true means that turn on locality load balancing for this DestinationRule no matter what mesh wide settings is.\",\n             \"properties\": {\n              \"value\": {\n               \"description\": \"The bool value.\",\n               \"type\": \"boolean\"\n              }\n             },\n             \"type\": \"object\"\n            },\n            \"failover\": {\n             \"description\": \"Optional: only failover or distribute can be set. Explicitly specify the region traffic will land on when endpoints in local region becomes unhealthy. Should be used together with OutlierDetection to detect unhealthy endpoints. Note: if no OutlierDetection specified, this will not take effect.\",\n             \"items\": {\n              \"description\": \"Specify the traffic failover policy across regions. Since zone and sub-zone failover is supported by default this only needs to be specified for regions when the operator needs to constrain traffic failover so that the default behavior of failing over to any endpoint globally does not apply. This is useful when failing over traffic across regions would not improve service health or may need to be restricted for other reasons like regulatory controls.\",\n              \"properties\": {\n               \"from\": {\n                \"description\": \"Originating region.\",\n                \"type\": \"string\"\n               },\n               \"to\": {\n                \"description\": \"Destination region the traffic will fail over to when endpoints in the 'from' region becomes unhealthy.\",\n                \"type\": \"string\"\n               }\n              },\n              \"type\": \"object\"\n             },\n             \"type\": \"array\"\n            }\n           },\n           \"type\": \"object\"\n          }\n         },\n         \"type\": \"object\"\n        },\n        \"outlier_detection\": {\n         \"description\": \"Settings controlling eviction of unhealthy hosts from the load balancing pool\",\n         \"properties\": {\n          \"base_ejection_time\": {\n           \"description\": \"Minimum ejection duration. A host will remain ejected for a period equal to the product of minimum ejection duration and the number of times the host has been ejected. This technique allows the system to automatically increase the ejection period for unhealthy upstream servers. format: 1h/1m/1s/1ms. MUST BE \\u003e=1ms. Default is 30s.\",\n           \"properties\": {\n            \"nanos\": {\n             \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n             \"format\": \"int32\",\n             \"type\": \"integer\"\n            },\n            \"seconds\": {\n             \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n             \"format\": \"int64\",\n             \"type\": \"integer\"\n            }\n           },\n           \"type\": \"object\"\n          },\n          \"consecutive_5xx_errors\": {\n           \"description\": \"Number of 5xx errors before a host is ejected from the connection pool. When the upstream host is accessed over an opaque TCP connection, connect timeouts, connection error/failure and request failure events qualify as a 5xx error. This feature defaults to 5 but can be disabled by setting the value to 0. \\n Note that consecutive_gateway_errors and consecutive_5xx_errors can be used separately or together. Because the errors counted by consecutive_gateway_errors are also included in consecutive_5xx_errors, if the value of consecutive_gateway_errors is greater than or equal to the value of consecutive_5xx_errors, consecutive_gateway_errors will have no effect.\",\n           \"properties\": {\n            \"value\": {\n             \"description\": \"The uint32 value.\",\n             \"format\": \"int32\",\n             \"type\": \"integer\"\n            }\n           },\n           \"type\": \"object\"\n          },\n          \"consecutive_errors\": {\n           \"description\": \"Number of errors before a host is ejected from the connection pool. Defaults to 5. When the upstream host is accessed over HTTP, a 502, 503, or 504 return code qualifies as an error. When the upstream host is accessed over an opaque TCP connection, connect timeouts and connection error/failure events qualify as an error. $hide_from_docs\",\n           \"format\": \"int32\",\n           \"type\": \"integer\"\n          },\n          \"consecutive_gateway_errors\": {\n           \"description\": \"Number of gateway errors before a host is ejected from the connection pool. When the upstream host is accessed over HTTP, a 502, 503, or 504 return code qualifies as a gateway error. When the upstream host is accessed over an opaque TCP connection, connect timeouts and connection error/failure events qualify as a gateway error. This feature is disabled by default or when set to the value 0. \\n Note that consecutive_gateway_errors and consecutive_5xx_errors can be used separately or together. Because the errors counted by consecutive_gateway_errors are also included in consecutive_5xx_errors, if the value of consecutive_gateway_errors is greater than or equal to the value of consecutive_5xx_errors, consecutive_gateway_errors will have no effect.\",\n           \"properties\": {\n            \"value\": {\n             \"description\": \"The uint32 value.\",\n             \"format\": \"int32\",\n             \"type\": \"integer\"\n            }\n           },\n           \"type\": \"object\"\n          },\n          \"interval\": {\n           \"description\": \"Time interval between ejection sweep analysis. format: 1h/1m/1s/1ms. MUST BE \\u003e=1ms. Default is 10s.\",\n           \"properties\": {\n            \"nanos\": {\n             \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n             \"format\": \"int32\",\n             \"type\": \"integer\"\n            },\n            \"seconds\": {\n             \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n             \"format\": \"int64\",\n             \"type\": \"integer\"\n            }\n           },\n           \"type\": \"object\"\n          },\n          \"max_ejection_percent\": {\n           \"description\": \"Maximum % of hosts in the load balancing pool for the upstream service that can be ejected. Defaults to 10%.\",\n           \"format\": \"int32\",\n           \"type\": \"integer\"\n          },\n          \"min_health_percent\": {\n           \"description\": \"Outlier detection will be enabled as long as the associated load balancing pool has at least min_health_percent hosts in healthy mode. When the percentage of healthy hosts in the load balancing pool drops below this threshold, outlier detection will be disabled and the proxy will load balance across all hosts in the pool (healthy and unhealthy). The threshold can be disabled by setting it to 0%. The default is 0% as it's not typically applicable in k8s environments with few pods per service.\",\n           \"format\": \"int32\",\n           \"type\": \"integer\"\n          }\n         },\n         \"type\": \"object\"\n        },\n        \"port_level_settings\": {\n         \"description\": \"Traffic policies specific to individual ports. Note that port level settings will override the destination-level settings. Traffic settings specified at the destination-level will not be inherited when overridden by port-level settings, i.e. default values will be applied to fields omitted in port-level traffic policies.\",\n         \"items\": {\n          \"description\": \"Traffic policies that apply to specific ports of the service\",\n          \"properties\": {\n           \"connection_pool\": {\n            \"description\": \"Settings controlling the volume of connections to an upstream service\",\n            \"properties\": {\n             \"http\": {\n              \"description\": \"HTTP connection pool settings.\",\n              \"properties\": {\n               \"h2_upgrade_policy\": {\n                \"description\": \"Specify if http1.1 connection should be upgraded to http2 for the associated destination.\",\n                \"format\": \"int32\",\n                \"type\": \"integer\"\n               },\n               \"http1_max_pending_requests\": {\n                \"description\": \"Maximum number of pending HTTP requests to a destination. Default 2^32-1.\",\n                \"format\": \"int32\",\n                \"type\": \"integer\"\n               },\n               \"http2_max_requests\": {\n                \"description\": \"Maximum number of requests to a backend. Default 2^32-1.\",\n                \"format\": \"int32\",\n                \"type\": \"integer\"\n               },\n               \"idle_timeout\": {\n                \"description\": \"The idle timeout for upstream connection pool connections. The idle timeout is defined as the period in which there are no active requests. If not set, the default is 1 hour. When the idle timeout is reached the connection will be closed. Note that request based timeouts mean that HTTP/2 PINGs will not keep the connection alive. Applies to both HTTP1.1 and HTTP2 connections.\",\n                \"properties\": {\n                 \"nanos\": {\n                  \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n                  \"format\": \"int32\",\n                  \"type\": \"integer\"\n                 },\n                 \"seconds\": {\n                  \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n                  \"format\": \"int64\",\n                  \"type\": \"integer\"\n                 }\n                },\n                \"type\": \"object\"\n               },\n               \"max_requests_per_connection\": {\n                \"description\": \"Maximum number of requests per connection to a backend. Setting this parameter to 1 disables keep alive. Default 0, meaning \\\"unlimited\\\", up to 2^29.\",\n                \"format\": \"int32\",\n                \"type\": \"integer\"\n               },\n               \"max_retries\": {\n                \"description\": \"Maximum number of retries that can be outstanding to all hosts in a cluster at a given time. Defaults to 2^32-1.\",\n                \"format\": \"int32\",\n                \"type\": \"integer\"\n               }\n              },\n              \"type\": \"object\"\n             },\n             \"tcp\": {\n              \"description\": \"Settings common to both HTTP and TCP upstream connections.\",\n              \"properties\": {\n               \"connect_timeout\": {\n                \"description\": \"TCP connection timeout. format: 1h/1m/1s/1ms. MUST BE \\u003e=1ms. Default is 10s.\",\n                \"properties\": {\n                 \"nanos\": {\n                  \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n                  \"format\": \"int32\",\n                  \"type\": \"integer\"\n                 },\n                 \"seconds\": {\n                  \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n                  \"format\": \"int64\",\n                  \"type\": \"integer\"\n                 }\n                },\n                \"type\": \"object\"\n               },\n               \"max_connections\": {\n                \"description\": \"Maximum number of HTTP1 /TCP connections to a destination host. Default 2^32-1.\",\n                \"format\": \"int32\",\n                \"type\": \"integer\"\n               },\n               \"tcp_keepalive\": {\n                \"description\": \"If set then set SO_KEEPALIVE on the socket to enable TCP Keepalives.\",\n                \"properties\": {\n                 \"interval\": {\n                  \"description\": \"The time duration between keep-alive probes. Default is to use the OS level configuration (unless overridden, Linux defaults to 75s.)\",\n                  \"properties\": {\n                   \"nanos\": {\n                    \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n                    \"format\": \"int32\",\n                    \"type\": \"integer\"\n                   },\n                   \"seconds\": {\n                    \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n                    \"format\": \"int64\",\n                    \"type\": \"integer\"\n                   }\n                  },\n                  \"type\": \"object\"\n                 },\n                 \"probes\": {\n                  \"description\": \"Maximum number of keepalive probes to send without response before deciding the connection is dead. Default is to use the OS level configuration (unless overridden, Linux defaults to 9.)\",\n                  \"format\": \"int32\",\n                  \"type\": \"integer\"\n                 },\n                 \"time\": {\n                  \"description\": \"The time duration a connection needs to be idle before keep-alive probes start being sent. Default is to use the OS level configuration (unless overridden, Linux defaults to 7200s (ie 2 hours.)\",\n                  \"properties\": {\n                   \"nanos\": {\n                    \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n                    \"format\": \"int32\",\n                    \"type\": \"integer\"\n                   },\n                   \"seconds\": {\n                    \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n                    \"format\": \"int64\",\n                    \"type\": \"integer\"\n                   }\n                  },\n                  \"type\": \"object\"\n                 }\n                },\n                \"type\": \"object\"\n               }\n              },\n              \"type\": \"object\"\n             }\n            },\n            \"type\": \"object\"\n           },\n           \"load_balancer\": {\n            \"description\": \"Settings controlling the load balancer algorithms.\",\n            \"properties\": {\n             \"locality_lb_setting\": {\n              \"description\": \"Locality load balancer settings, this will override mesh wide settings in entirety, meaning no merging would be performed between this object and the object one in MeshConfig\",\n              \"properties\": {\n               \"distribute\": {\n                \"description\": \"Optional: only one of distribute or failover can be set. Explicitly specify loadbalancing weight across different zones and geographical locations. Refer to [Locality weighted load balancing](https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/upstream/load_balancing/locality_weight) If empty, the locality weight is set according to the endpoints number within it.\",\n                \"items\": {\n                 \"description\": \"Describes how traffic originating in the 'from' zone or sub-zone is distributed over a set of 'to' zones. Syntax for specifying a zone is {region}/{zone}/{sub-zone} and terminal wildcards are allowed on any segment of the specification. Examples: * - matches all localities us-west/* - all zones and sub-zones within the us-west region us-west/zone-1/* - all sub-zones within us-west/zone-1\",\n                 \"properties\": {\n                  \"from\": {\n                   \"description\": \"Originating locality, '/' separated, e.g. 'region/zone/sub_zone'.\",\n                   \"type\": \"string\"\n                  },\n                  \"to\": {\n                   \"additionalProperties\": {\n                    \"format\": \"int32\",\n                    \"type\": \"integer\"\n                   },\n                   \"description\": \"Map of upstream localities to traffic distribution weights. The sum of all weights should be == 100. Any locality not assigned a weight will receive no traffic.\",\n                   \"type\": \"object\"\n                  }\n                 },\n                 \"type\": \"object\"\n                },\n                \"type\": \"array\"\n               },\n               \"enabled\": {\n                \"description\": \"enable locality load balancing, this is DestinationRule-level and will override mesh wide settings in entirety. e.g. true means that turn on locality load balancing for this DestinationRule no matter what mesh wide settings is.\",\n                \"properties\": {\n                 \"value\": {\n                  \"description\": \"The bool value.\",\n                  \"type\": \"boolean\"\n                 }\n                },\n                \"type\": \"object\"\n               },\n               \"failover\": {\n                \"description\": \"Optional: only failover or distribute can be set. Explicitly specify the region traffic will land on when endpoints in local region becomes unhealthy. Should be used together with OutlierDetection to detect unhealthy endpoints. Note: if no OutlierDetection specified, this will not take effect.\",\n                \"items\": {\n                 \"description\": \"Specify the traffic failover policy across regions. Since zone and sub-zone failover is supported by default this only needs to be specified for regions when the operator needs to constrain traffic failover so that the default behavior of failing over to any endpoint globally does not apply. This is useful when failing over traffic across regions would not improve service health or may need to be restricted for other reasons like regulatory controls.\",\n                 \"properties\": {\n                  \"from\": {\n                   \"description\": \"Originating region.\",\n                   \"type\": \"string\"\n                  },\n                  \"to\": {\n                   \"description\": \"Destination region the traffic will fail over to when endpoints in the 'from' region becomes unhealthy.\",\n                   \"type\": \"string\"\n                  }\n                 },\n                 \"type\": \"object\"\n                },\n                \"type\": \"array\"\n               }\n              },\n              \"type\": \"object\"\n             }\n            },\n            \"type\": \"object\"\n           },\n           \"outlier_detection\": {\n            \"description\": \"Settings controlling eviction of unhealthy hosts from the load balancing pool\",\n            \"properties\": {\n             \"base_ejection_time\": {\n              \"description\": \"Minimum ejection duration. A host will remain ejected for a period equal to the product of minimum ejection duration and the number of times the host has been ejected. This technique allows the system to automatically increase the ejection period for unhealthy upstream servers. format: 1h/1m/1s/1ms. MUST BE \\u003e=1ms. Default is 30s.\",\n              \"properties\": {\n               \"nanos\": {\n                \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n                \"format\": \"int32\",\n                \"type\": \"integer\"\n               },\n               \"seconds\": {\n                \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n                \"format\": \"int64\",\n                \"type\": \"integer\"\n               }\n              },\n              \"type\": \"object\"\n             },\n             \"consecutive_5xx_errors\": {\n              \"description\": \"Number of 5xx errors before a host is ejected from the connection pool. When the upstream host is accessed over an opaque TCP connection, connect timeouts, connection error/failure and request failure events qualify as a 5xx error. This feature defaults to 5 but can be disabled by setting the value to 0. \\n Note that consecutive_gateway_errors and consecutive_5xx_errors can be used separately or together. Because the errors counted by consecutive_gateway_errors are also included in consecutive_5xx_errors, if the value of consecutive_gateway_errors is greater than or equal to the value of consecutive_5xx_errors, consecutive_gateway_errors will have no effect.\",\n              \"properties\": {\n               \"value\": {\n                \"description\": \"The uint32 value.\",\n                \"format\": \"int32\",\n                \"type\": \"integer\"\n               }\n              },\n              \"type\": \"object\"\n             },\n             \"consecutive_errors\": {\n              \"description\": \"Number of errors before a host is ejected from the connection pool. Defaults to 5. When the upstream host is accessed over HTTP, a 502, 503, or 504 return code qualifies as an error. When the upstream host is accessed over an opaque TCP connection, connect timeouts and connection error/failure events qualify as an error. $hide_from_docs\",\n              \"format\": \"int32\",\n              \"type\": \"integer\"\n             },\n             \"consecutive_gateway_errors\": {\n              \"description\": \"Number of gateway errors before a host is ejected from the connection pool. When the upstream host is accessed over HTTP, a 502, 503, or 504 return code qualifies as a gateway error. When the upstream host is accessed over an opaque TCP connection, connect timeouts and connection error/failure events qualify as a gateway error. This feature is disabled by default or when set to the value 0. \\n Note that consecutive_gateway_errors and consecutive_5xx_errors can be used separately or together. Because the errors counted by consecutive_gateway_errors are also included in consecutive_5xx_errors, if the value of consecutive_gateway_errors is greater than or equal to the value of consecutive_5xx_errors, consecutive_gateway_errors will have no effect.\",\n              \"properties\": {\n               \"value\": {\n                \"description\": \"The uint32 value.\",\n                \"format\": \"int32\",\n                \"type\": \"integer\"\n               }\n              },\n              \"type\": \"object\"\n             },\n             \"interval\": {\n              \"description\": \"Time interval between ejection sweep analysis. format: 1h/1m/1s/1ms. MUST BE \\u003e=1ms. Default is 10s.\",\n              \"properties\": {\n               \"nanos\": {\n                \"description\": \"Signed fractions of a second at nanosecond resolution of the span of time. Durations less than one second are represented with a 0 `seconds` field and a positive or negative `nanos` field. For durations of one second or more, a non-zero value for the `nanos` field must be of the same sign as the `seconds` field. Must be from -999,999,999 to +999,999,999 inclusive.\",\n                \"format\": \"int32\",\n                \"type\": \"integer\"\n               },\n               \"seconds\": {\n                \"description\": \"Signed seconds of the span of time. Must be from -315,576,000,000 to +315,576,000,000 inclusive. Note: these bounds are computed from: 60 sec/min * 60 min/hr * 24 hr/day * 365.25 days/year * 10000 years\",\n                \"format\": \"int64\",\n                \"type\": \"integer\"\n               }\n              },\n              \"type\": \"object\"\n             },\n             \"max_ejection_percent\": {\n              \"description\": \"Maximum % of hosts in the load balancing pool for the upstream service that can be ejected. Defaults to 10%.\",\n              \"format\": \"int32\",\n              \"type\": \"integer\"\n             },\n             \"min_health_percent\": {\n              \"description\": \"Outlier detection will be enabled as long as the associated load balancing pool has at least min_health_percent hosts in healthy mode. When the percentage of healthy hosts in the load balancing pool drops below this threshold, outlier detection will be disabled and the proxy will load balance across all hosts in the pool (healthy and unhealthy). The threshold can be disabled by setting it to 0%. The default is 0% as it's not typically applicable in k8s environments with few pods per service.\",\n              \"format\": \"int32\",\n              \"type\": \"integer\"\n             }\n            },\n            \"type\": \"object\"\n           },\n           \"port\": {\n            \"description\": \"Specifies the number of a port on the destination service on which this policy is being applied.\",\n            \"properties\": {\n             \"number\": {\n              \"description\": \"Valid port number\",\n              \"format\": \"int32\",\n              \"type\": \"integer\"\n             }\n            },\n            \"type\": \"object\"\n           },\n           \"tls\": {\n            \"description\": \"TLS related settings for connections to the upstream service.\",\n            \"properties\": {\n             \"ca_certificates\": {\n              \"description\": \"OPTIONAL: The path to the file containing certificate authority certificates to use in verifying a presented server certificate. If omitted, the proxy will not verify the server's certificate. Should be empty if mode is `ISTIO_MUTUAL`.\",\n              \"type\": \"string\"\n             },\n             \"client_certificate\": {\n              \"description\": \"REQUIRED if mode is `MUTUAL`. The path to the file holding the client-side TLS certificate to use. Should be empty if mode is `ISTIO_MUTUAL`.\",\n              \"type\": \"string\"\n             },\n             \"mode\": {\n              \"description\": \"Indicates whether connections to this port should be secured using TLS. The value of this field determines how TLS is enforced.\",\n              \"format\": \"int32\",\n              \"type\": \"integer\"\n             },\n             \"private_key\": {\n              \"description\": \"REQUIRED if mode is `MUTUAL`. The path to the file holding the client's private key. Should be empty if mode is `ISTIO_MUTUAL`.\",\n              \"type\": \"string\"\n             },\n             \"sni\": {\n              \"description\": \"SNI string to present to the server during TLS handshake.\",\n              \"type\": \"string\"\n             },\n             \"subject_alt_names\": {\n              \"description\": \"A list of alternate names to verify the subject identity in the certificate. If specified, the proxy will verify that the server certificate's subject alt name matches one of the specified values. If specified, this list overrides the value of subject_alt_names from the ServiceEntry.\",\n              \"items\": {\n               \"type\": \"string\"\n              },\n              \"type\": \"array\"\n             }\n            },\n            \"type\": \"object\"\n           }\n          },\n          \"type\": \"object\"\n         },\n         \"type\": \"array\"\n        },\n        \"tls\": {\n         \"description\": \"TLS related settings for connections to the upstream service.\",\n         \"properties\": {\n          \"ca_certificates\": {\n           \"description\": \"OPTIONAL: The path to the file containing certificate authority certificates to use in verifying a presented server certificate. If omitted, the proxy will not verify the server's certificate. Should be empty if mode is `ISTIO_MUTUAL`.\",\n           \"type\": \"string\"\n          },\n          \"client_certificate\": {\n           \"description\": \"REQUIRED if mode is `MUTUAL`. The path to the file holding the client-side TLS certificate to use. Should be empty if mode is `ISTIO_MUTUAL`.\",\n           \"type\": \"string\"\n          },\n          \"mode\": {\n           \"description\": \"Indicates whether connections to this port should be secured using TLS. The value of this field determines how TLS is enforced.\",\n           \"format\": \"int32\",\n           \"type\": \"integer\"\n          },\n          \"private_key\": {\n           \"description\": \"REQUIRED if mode is `MUTUAL`. The path to the file holding the client's private key. Should be empty if mode is `ISTIO_MUTUAL`.\",\n           \"type\": \"string\"\n          },\n          \"sni\": {\n           \"description\": \"SNI string to present to the server during TLS handshake.\",\n           \"type\": \"string\"\n          },\n          \"subject_alt_names\": {\n           \"description\": \"A list of alternate names to verify the subject identity in the certificate. If specified, the proxy will verify that the server certificate's subject alt name matches one of the specified values. If specified, this list overrides the value of subject_alt_names from the ServiceEntry.\",\n           \"items\": {\n            \"type\": \"string\"\n           },\n           \"type\": \"array\"\n          }\n         },\n         \"type\": \"object\"\n        }\n       },\n       \"type\": \"object\"\n      }\n     },\n     \"type\": \"object\"\n    }\n   },\n   \"type\": \"object\"\n  }\n },\n \"title\": \"Service Policy\",\n \"type\": \"object\"\n}"}