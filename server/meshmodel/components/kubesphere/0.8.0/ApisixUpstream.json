{"kind":"ApisixUpstream","apiVersion":"v1","displayName":"Apisix Upstream","format":"JSON","metadata":{"logoURL":"","model":"kubesphere","modelDisplayName":"Kubesphere","primaryColor":"","published":true,"secondaryColor":"","shape":"circle","svgColor":"\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\u003c!DOCTYPE svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 32 38\" fill=\"none\"\u003e\n\u003cpath xmlns=\"http://www.w3.org/2000/svg\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M27.901 30.192L19.814 25.479V34.905L27.901 30.192ZM27.901 7.241L19.814 2.528V11.954L27.901 7.241ZM15.823 0.25L0 9.472V27.962L15.823 37.183V23.154L8.21 18.716L15.823 14.279V0.25ZM15.878 18.717L31.678 27.924V9.509L15.878 18.717Z\" fill=\"#26A678\"\u003e\u003c/path\u003e\n\u003c/svg\u003e","svgWhite":"\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\u003c!DOCTYPE svg\u003e\u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 32 38\" fill=\"none\"\u003e\n    \u003cpath xmlns=\"http://www.w3.org/2000/svg\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M27.901 30.192L19.814 25.479V34.905L27.901 30.192ZM27.901 7.241L19.814 2.528V11.954L27.901 7.241ZM15.823 0.25L0 9.472V27.962L15.823 37.183V23.154L8.21 18.716L15.823 14.279V0.25ZM15.878 18.717L31.678 27.924V9.509L15.878 18.717Z\" fill=\"#fff\"\u003e\u003c/path\u003e\n\u003c/svg\u003e"},"model":{"name":"kubesphere","version":"0.8.0","modelDisplayName":"Kubesphere","category":"Platform","subCategory":"Certified Kubernetes - Distribution"},"schema":"{\n \"properties\": {\n  \"healthCheck\": {\n   \"anyOf\": [\n    {\n     \"required\": [\n      \"active\"\n     ]\n    },\n    {\n     \"required\": [\n      \"active\",\n      \"passive\"\n     ]\n    }\n   ],\n   \"properties\": {\n    \"active\": {\n     \"properties\": {\n      \"concurrency\": {\n       \"minimum\": 1,\n       \"type\": \"integer\"\n      },\n      \"healthy\": {\n       \"properties\": {\n        \"httpCodes\": {\n         \"items\": {\n          \"maximum\": 599,\n          \"minimum\": 200,\n          \"type\": \"integer\"\n         },\n         \"minItems\": 1,\n         \"type\": \"array\"\n        },\n        \"interval\": {\n         \"type\": \"string\"\n        },\n        \"successes\": {\n         \"maximum\": 254,\n         \"minimum\": 1,\n         \"type\": \"integer\"\n        }\n       },\n       \"type\": \"object\"\n      },\n      \"host\": {\n       \"pattern\": \"^\\\\*?[0-9a-zA-Z-._]+$\",\n       \"type\": \"string\"\n      },\n      \"httpPath\": {\n       \"minLength\": 1,\n       \"type\": \"string\"\n      },\n      \"port\": {\n       \"maximum\": 65535,\n       \"minimum\": 1,\n       \"type\": \"integer\"\n      },\n      \"requestHeaders\": {\n       \"items\": {\n        \"type\": \"string\"\n       },\n       \"minItems\": 1,\n       \"type\": \"array\"\n      },\n      \"strictTLS\": {\n       \"type\": \"boolean\"\n      },\n      \"timeout\": {\n       \"minimum\": 0,\n       \"type\": \"number\"\n      },\n      \"type\": {\n       \"enum\": [\n        \"http\",\n        \"https\",\n        \"tcp\"\n       ],\n       \"type\": \"string\"\n      },\n      \"unhealthy\": {\n       \"properties\": {\n        \"httpCodes\": {\n         \"items\": {\n          \"maximum\": 599,\n          \"minimum\": 200,\n          \"type\": \"integer\"\n         },\n         \"minItems\": 1,\n         \"type\": \"array\"\n        },\n        \"httpFailures\": {\n         \"maximum\": 254,\n         \"minimum\": 1,\n         \"type\": \"integer\"\n        },\n        \"interval\": {\n         \"type\": \"string\"\n        },\n        \"tcpFailures\": {\n         \"maximum\": 254,\n         \"minimum\": 1,\n         \"type\": \"integer\"\n        },\n        \"timeouts\": {\n         \"minimum\": 0,\n         \"type\": \"integer\"\n        }\n       },\n       \"type\": \"object\"\n      }\n     },\n     \"type\": \"object\"\n    },\n    \"passive\": {\n     \"properties\": {\n      \"healthy\": {\n       \"properties\": {\n        \"httpCodes\": {\n         \"items\": {\n          \"maximum\": 599,\n          \"minimum\": 200,\n          \"type\": \"integer\"\n         },\n         \"minItems\": 1,\n         \"type\": \"array\"\n        },\n        \"successes\": {\n         \"maximum\": 254,\n         \"minimum\": 1,\n         \"type\": \"integer\"\n        }\n       },\n       \"type\": \"object\"\n      },\n      \"type\": {\n       \"enum\": [\n        \"http\",\n        \"https\",\n        \"tcp\"\n       ],\n       \"type\": \"string\"\n      },\n      \"unhealthy\": {\n       \"properties\": {\n        \"httpCodes\": {\n         \"items\": {\n          \"maximum\": 599,\n          \"minimum\": 200,\n          \"type\": \"integer\"\n         },\n         \"minItems\": 1,\n         \"type\": \"array\"\n        },\n        \"httpFailures\": {\n         \"maximum\": 254,\n         \"minimum\": 1,\n         \"type\": \"integer\"\n        },\n        \"tcpFailures\": {\n         \"maximum\": 254,\n         \"minimum\": 1,\n         \"type\": \"integer\"\n        },\n        \"timeouts\": {\n         \"minimum\": 0,\n         \"type\": \"integer\"\n        }\n       },\n       \"type\": \"object\"\n      }\n     },\n     \"type\": \"object\"\n    }\n   },\n   \"type\": \"object\"\n  },\n  \"loadbalancer\": {\n   \"properties\": {\n    \"hashOn\": {\n     \"enum\": [\n      \"vars\",\n      \"vars_combinations\",\n      \"header\",\n      \"cookie\",\n      \"consumer\"\n     ],\n     \"type\": \"string\"\n    },\n    \"key\": {\n     \"type\": \"string\"\n    },\n    \"type\": {\n     \"enum\": [\n      \"roundrobin\",\n      \"chash\",\n      \"ewma\",\n      \"least_conn\"\n     ],\n     \"type\": \"string\"\n    }\n   },\n   \"required\": [\n    \"type\"\n   ],\n   \"type\": \"object\"\n  },\n  \"portLevelSettings\": {\n   \"items\": {\n    \"properties\": {\n     \"healthCheck\": {\n      \"anyOf\": [\n       {\n        \"required\": [\n         \"active\"\n        ]\n       },\n       {\n        \"required\": [\n         \"active\",\n         \"passive\"\n        ]\n       }\n      ],\n      \"properties\": {\n       \"active\": {\n        \"properties\": {\n         \"concurrency\": {\n          \"minimum\": 1,\n          \"type\": \"integer\"\n         },\n         \"healthy\": {\n          \"properties\": {\n           \"httpCodes\": {\n            \"items\": {\n             \"maximum\": 599,\n             \"minimum\": 200,\n             \"type\": \"integer\"\n            },\n            \"minItems\": 1,\n            \"type\": \"array\"\n           },\n           \"interval\": {\n            \"type\": \"string\"\n           },\n           \"successes\": {\n            \"maximum\": 254,\n            \"minimum\": 1,\n            \"type\": \"integer\"\n           }\n          },\n          \"type\": \"object\"\n         },\n         \"host\": {\n          \"pattern\": \"^\\\\*?[0-9a-zA-Z-._]+$\",\n          \"type\": \"string\"\n         },\n         \"httpPath\": {\n          \"minLength\": 1,\n          \"type\": \"string\"\n         },\n         \"port\": {\n          \"maximum\": 65535,\n          \"minimum\": 1,\n          \"type\": \"integer\"\n         },\n         \"requestHeaders\": {\n          \"items\": {\n           \"type\": \"string\"\n          },\n          \"minItems\": 1,\n          \"type\": \"array\"\n         },\n         \"strictTLS\": {\n          \"type\": \"boolean\"\n         },\n         \"timeout\": {\n          \"minimum\": 0,\n          \"type\": \"number\"\n         },\n         \"type\": {\n          \"enum\": [\n           \"http\",\n           \"https\",\n           \"tcp\"\n          ],\n          \"type\": \"string\"\n         },\n         \"unhealthy\": {\n          \"properties\": {\n           \"httpCodes\": {\n            \"items\": {\n             \"maximum\": 599,\n             \"minimum\": 200,\n             \"type\": \"integer\"\n            },\n            \"minItems\": 1,\n            \"type\": \"array\"\n           },\n           \"httpFailures\": {\n            \"maximum\": 254,\n            \"minimum\": 1,\n            \"type\": \"integer\"\n           },\n           \"interval\": {\n            \"type\": \"string\"\n           },\n           \"tcpFailures\": {\n            \"maximum\": 254,\n            \"minimum\": 1,\n            \"type\": \"integer\"\n           },\n           \"timeout\": {\n            \"type\": \"string\"\n           }\n          },\n          \"type\": \"object\"\n         }\n        },\n        \"type\": \"object\"\n       },\n       \"passive\": {\n        \"properties\": {\n         \"healthy\": {\n          \"properties\": {\n           \"httpCodes\": {\n            \"items\": {\n             \"maximum\": 599,\n             \"minimum\": 200,\n             \"type\": \"integer\"\n            },\n            \"minItems\": 1,\n            \"type\": \"array\"\n           },\n           \"successes\": {\n            \"maximum\": 254,\n            \"minimum\": 1,\n            \"type\": \"integer\"\n           }\n          },\n          \"type\": \"object\"\n         },\n         \"type\": {\n          \"enum\": [\n           \"http\",\n           \"https\",\n           \"tcp\"\n          ],\n          \"type\": \"string\"\n         },\n         \"unhealthy\": {\n          \"properties\": {\n           \"httpCodes\": {\n            \"items\": {\n             \"maximum\": 599,\n             \"minimum\": 200,\n             \"type\": \"integer\"\n            },\n            \"minItems\": 1,\n            \"type\": \"array\"\n           },\n           \"httpFailures\": {\n            \"maximum\": 254,\n            \"minimum\": 1,\n            \"type\": \"integer\"\n           },\n           \"tcpFailures\": {\n            \"maximum\": 254,\n            \"minimum\": 1,\n            \"type\": \"integer\"\n           },\n           \"timeout\": {\n            \"type\": \"string\"\n           }\n          },\n          \"type\": \"object\"\n         }\n        },\n        \"type\": \"object\"\n       }\n      },\n      \"type\": \"object\"\n     },\n     \"loadbalancer\": {\n      \"properties\": {\n       \"hashOn\": {\n        \"enum\": [\n         \"vars\",\n         \"vars_combinations\",\n         \"header\",\n         \"cookie\",\n         \"consumer\"\n        ],\n        \"type\": \"string\"\n       },\n       \"key\": {\n        \"type\": \"string\"\n       },\n       \"type\": {\n        \"enum\": [\n         \"roundrobin\",\n         \"chash\",\n         \"ewma\",\n         \"least_conn\"\n        ],\n        \"type\": \"string\"\n       }\n      },\n      \"required\": [\n       \"type\"\n      ],\n      \"type\": \"object\"\n     },\n     \"port\": {\n      \"maximum\": 65535,\n      \"minimum\": 1,\n      \"type\": \"integer\"\n     },\n     \"retries\": {\n      \"minimum\": 0,\n      \"type\": \"integer\"\n     },\n     \"scheme\": {\n      \"enum\": [\n       \"http\",\n       \"grpc\"\n      ],\n      \"type\": \"string\"\n     },\n     \"timeout\": {\n      \"properties\": {\n       \"connect\": {\n        \"type\": \"string\"\n       },\n       \"read\": {\n        \"type\": \"string\"\n       },\n       \"send\": {\n        \"type\": \"string\"\n       }\n      },\n      \"type\": \"object\"\n     }\n    },\n    \"type\": \"object\"\n   },\n   \"type\": \"array\"\n  },\n  \"retries\": {\n   \"minimum\": 0,\n   \"type\": \"integer\"\n  },\n  \"scheme\": {\n   \"enum\": [\n    \"http\",\n    \"grpc\"\n   ],\n   \"type\": \"string\"\n  },\n  \"subsets\": {\n   \"items\": {\n    \"properties\": {\n     \"labels\": {\n      \"type\": \"object\",\n      \"x-kubernetes-preserve-unknown-fields\": true\n     },\n     \"name\": {\n      \"minLength\": 1,\n      \"type\": \"string\"\n     }\n    },\n    \"required\": [\n     \"name\",\n     \"labels\"\n    ],\n    \"type\": \"object\"\n   },\n   \"type\": \"array\"\n  },\n  \"timeout\": {\n   \"properties\": {\n    \"connect\": {\n     \"type\": \"string\"\n    },\n    \"read\": {\n     \"type\": \"string\"\n    },\n    \"send\": {\n     \"type\": \"string\"\n    }\n   },\n   \"type\": \"object\"\n  }\n },\n \"title\": \"Apisix Upstream\",\n \"type\": \"object\"\n}"}