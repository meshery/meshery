{"kind":"OperatorConfiguration","apiVersion":"acid.zalan.do/v1","displayName":"Operator Configuration","format":"JSON","hostname":"","hostID":"00000000-0000-0000-0000-000000000000","displayhostname":"","metadata":{"isNamespaced":true},"model":{"name":"postgres-operator","version":"1.7.1","displayName":"postgres-operator","hostname":"","hostID":"00000000-0000-0000-0000-000000000000","displayhostname":"","category":{"name":"","metadata":null},"metadata":{"source_uri":"https://github.com/bbriggs/charts/releases/download/postgres-operator-1.7.1/postgres-operator-1.7.1.tgz"}},"schema":"{\n \"properties\": {\n  \"configuration\": {\n   \"properties\": {\n    \"aws_or_gcp\": {\n     \"properties\": {\n      \"additional_secret_mount\": {\n       \"type\": \"string\"\n      },\n      \"additional_secret_mount_path\": {\n       \"default\": \"/meta/credentials\",\n       \"type\": \"string\"\n      },\n      \"aws_region\": {\n       \"default\": \"eu-central-1\",\n       \"type\": \"string\"\n      },\n      \"enable_ebs_gp3_migration\": {\n       \"default\": false,\n       \"type\": \"boolean\"\n      },\n      \"enable_ebs_gp3_migration_max_size\": {\n       \"default\": 1000,\n       \"type\": \"integer\"\n      },\n      \"gcp_credentials\": {\n       \"type\": \"string\"\n      },\n      \"kube_iam_role\": {\n       \"type\": \"string\"\n      },\n      \"log_s3_bucket\": {\n       \"type\": \"string\"\n      },\n      \"wal_az_storage_account\": {\n       \"type\": \"string\"\n      },\n      \"wal_gs_bucket\": {\n       \"type\": \"string\"\n      },\n      \"wal_s3_bucket\": {\n       \"type\": \"string\"\n      }\n     },\n     \"type\": \"object\"\n    },\n    \"connection_pooler\": {\n     \"properties\": {\n      \"connection_pooler_default_cpu_limit\": {\n       \"default\": \"1\",\n       \"pattern\": \"^(\\\\d+m|\\\\d+(\\\\.\\\\d{1,3})?)$\",\n       \"type\": \"string\"\n      },\n      \"connection_pooler_default_cpu_request\": {\n       \"default\": \"500m\",\n       \"pattern\": \"^(\\\\d+m|\\\\d+(\\\\.\\\\d{1,3})?)$\",\n       \"type\": \"string\"\n      },\n      \"connection_pooler_default_memory_limit\": {\n       \"default\": \"100Mi\",\n       \"pattern\": \"^(\\\\d+(e\\\\d+)?|\\\\d+(\\\\.\\\\d+)?(e\\\\d+)?[EPTGMK]i?)$\",\n       \"type\": \"string\"\n      },\n      \"connection_pooler_default_memory_request\": {\n       \"default\": \"100Mi\",\n       \"pattern\": \"^(\\\\d+(e\\\\d+)?|\\\\d+(\\\\.\\\\d+)?(e\\\\d+)?[EPTGMK]i?)$\",\n       \"type\": \"string\"\n      },\n      \"connection_pooler_image\": {\n       \"default\": \"registry.opensource.zalan.do/acid/pgbouncer:master-19\",\n       \"type\": \"string\"\n      },\n      \"connection_pooler_max_db_connections\": {\n       \"default\": 60,\n       \"type\": \"integer\"\n      },\n      \"connection_pooler_mode\": {\n       \"default\": \"transaction\",\n       \"enum\": [\n        \"session\",\n        \"transaction\"\n       ],\n       \"type\": \"string\"\n      },\n      \"connection_pooler_number_of_instances\": {\n       \"default\": 2,\n       \"minimum\": 1,\n       \"type\": \"integer\"\n      },\n      \"connection_pooler_schema\": {\n       \"default\": \"pooler\",\n       \"type\": \"string\"\n      },\n      \"connection_pooler_user\": {\n       \"default\": \"pooler\",\n       \"type\": \"string\"\n      }\n     },\n     \"type\": \"object\"\n    },\n    \"debug\": {\n     \"properties\": {\n      \"debug_logging\": {\n       \"default\": true,\n       \"type\": \"boolean\"\n      },\n      \"enable_database_access\": {\n       \"default\": true,\n       \"type\": \"boolean\"\n      }\n     },\n     \"type\": \"object\"\n    },\n    \"docker_image\": {\n     \"default\": \"registry.opensource.zalan.do/acid/spilo-14:2.1-p3\",\n     \"type\": \"string\"\n    },\n    \"enable_crd_registration\": {\n     \"default\": true,\n     \"type\": \"boolean\"\n    },\n    \"enable_crd_validation\": {\n     \"default\": true,\n     \"type\": \"boolean\"\n    },\n    \"enable_lazy_spilo_upgrade\": {\n     \"default\": false,\n     \"type\": \"boolean\"\n    },\n    \"enable_pgversion_env_var\": {\n     \"default\": true,\n     \"type\": \"boolean\"\n    },\n    \"enable_shm_volume\": {\n     \"default\": true,\n     \"type\": \"boolean\"\n    },\n    \"enable_spilo_wal_path_compat\": {\n     \"default\": false,\n     \"type\": \"boolean\"\n    },\n    \"etcd_host\": {\n     \"default\": \"\",\n     \"type\": \"string\"\n    },\n    \"kubernetes\": {\n     \"properties\": {\n      \"additional_pod_capabilities\": {\n       \"items\": {\n        \"type\": \"string\"\n       },\n       \"type\": \"array\"\n      },\n      \"cluster_domain\": {\n       \"default\": \"cluster.local\",\n       \"type\": \"string\"\n      },\n      \"cluster_labels\": {\n       \"additionalProperties\": {\n        \"type\": \"string\"\n       },\n       \"default\": {\n        \"application\": \"spilo\"\n       },\n       \"type\": \"object\"\n      },\n      \"cluster_name_label\": {\n       \"default\": \"cluster-name\",\n       \"type\": \"string\"\n      },\n      \"custom_pod_annotations\": {\n       \"additionalProperties\": {\n        \"type\": \"string\"\n       },\n       \"type\": \"object\"\n      },\n      \"delete_annotation_date_key\": {\n       \"type\": \"string\"\n      },\n      \"delete_annotation_name_key\": {\n       \"type\": \"string\"\n      },\n      \"downscaler_annotations\": {\n       \"items\": {\n        \"type\": \"string\"\n       },\n       \"type\": \"array\"\n      },\n      \"enable_cross_namespace_secret\": {\n       \"default\": false,\n       \"type\": \"boolean\"\n      },\n      \"enable_init_containers\": {\n       \"default\": true,\n       \"type\": \"boolean\"\n      },\n      \"enable_pod_antiaffinity\": {\n       \"default\": false,\n       \"type\": \"boolean\"\n      },\n      \"enable_pod_disruption_budget\": {\n       \"default\": true,\n       \"type\": \"boolean\"\n      },\n      \"enable_sidecars\": {\n       \"default\": true,\n       \"type\": \"boolean\"\n      },\n      \"infrastructure_roles_secret_name\": {\n       \"type\": \"string\"\n      },\n      \"infrastructure_roles_secrets\": {\n       \"items\": {\n        \"properties\": {\n         \"defaultrolevalue\": {\n          \"type\": \"string\"\n         },\n         \"defaultuservalue\": {\n          \"type\": \"string\"\n         },\n         \"details\": {\n          \"type\": \"string\"\n         },\n         \"passwordkey\": {\n          \"type\": \"string\"\n         },\n         \"rolekey\": {\n          \"type\": \"string\"\n         },\n         \"secretname\": {\n          \"type\": \"string\"\n         },\n         \"template\": {\n          \"type\": \"boolean\"\n         },\n         \"userkey\": {\n          \"type\": \"string\"\n         }\n        },\n        \"required\": [\n         \"secretname\",\n         \"userkey\",\n         \"passwordkey\"\n        ],\n        \"type\": \"object\"\n       },\n       \"nullable\": true,\n       \"type\": \"array\"\n      },\n      \"inherited_annotations\": {\n       \"items\": {\n        \"type\": \"string\"\n       },\n       \"type\": \"array\"\n      },\n      \"inherited_labels\": {\n       \"items\": {\n        \"type\": \"string\"\n       },\n       \"type\": \"array\"\n      },\n      \"master_pod_move_timeout\": {\n       \"default\": \"20m\",\n       \"type\": \"string\"\n      },\n      \"node_readiness_label\": {\n       \"additionalProperties\": {\n        \"type\": \"string\"\n       },\n       \"type\": \"object\"\n      },\n      \"node_readiness_label_merge\": {\n       \"enum\": [\n        \"AND\",\n        \"OR\"\n       ],\n       \"type\": \"string\"\n      },\n      \"oauth_token_secret_name\": {\n       \"default\": \"postgresql-operator\",\n       \"type\": \"string\"\n      },\n      \"pdb_name_format\": {\n       \"default\": \"postgres-{cluster}-pdb\",\n       \"type\": \"string\"\n      },\n      \"pod_antiaffinity_topology_key\": {\n       \"default\": \"kubernetes.io/hostname\",\n       \"type\": \"string\"\n      },\n      \"pod_environment_configmap\": {\n       \"type\": \"string\"\n      },\n      \"pod_environment_secret\": {\n       \"type\": \"string\"\n      },\n      \"pod_management_policy\": {\n       \"default\": \"ordered_ready\",\n       \"enum\": [\n        \"ordered_ready\",\n        \"parallel\"\n       ],\n       \"type\": \"string\"\n      },\n      \"pod_priority_class_name\": {\n       \"type\": \"string\"\n      },\n      \"pod_role_label\": {\n       \"default\": \"spilo-role\",\n       \"type\": \"string\"\n      },\n      \"pod_service_account_definition\": {\n       \"default\": \"\",\n       \"type\": \"string\"\n      },\n      \"pod_service_account_name\": {\n       \"default\": \"postgres-pod\",\n       \"type\": \"string\"\n      },\n      \"pod_service_account_role_binding_definition\": {\n       \"default\": \"\",\n       \"type\": \"string\"\n      },\n      \"pod_terminate_grace_period\": {\n       \"default\": \"5m\",\n       \"type\": \"string\"\n      },\n      \"secret_name_template\": {\n       \"default\": \"{username}.{cluster}.credentials.{tprkind}.{tprgroup}\",\n       \"type\": \"string\"\n      },\n      \"spilo_allow_privilege_escalation\": {\n       \"default\": true,\n       \"type\": \"boolean\"\n      },\n      \"spilo_fsgroup\": {\n       \"type\": \"integer\"\n      },\n      \"spilo_privileged\": {\n       \"default\": false,\n       \"type\": \"boolean\"\n      },\n      \"spilo_runasgroup\": {\n       \"type\": \"integer\"\n      },\n      \"spilo_runasuser\": {\n       \"type\": \"integer\"\n      },\n      \"storage_resize_mode\": {\n       \"default\": \"pvc\",\n       \"enum\": [\n        \"ebs\",\n        \"pvc\",\n        \"off\"\n       ],\n       \"type\": \"string\"\n      },\n      \"toleration\": {\n       \"additionalProperties\": {\n        \"type\": \"string\"\n       },\n       \"type\": \"object\"\n      },\n      \"watched_namespace\": {\n       \"type\": \"string\"\n      }\n     },\n     \"type\": \"object\"\n    },\n    \"kubernetes_use_configmaps\": {\n     \"default\": false,\n     \"type\": \"boolean\"\n    },\n    \"load_balancer\": {\n     \"properties\": {\n      \"custom_service_annotations\": {\n       \"additionalProperties\": {\n        \"type\": \"string\"\n       },\n       \"type\": \"object\"\n      },\n      \"db_hosted_zone\": {\n       \"default\": \"db.example.com\",\n       \"type\": \"string\"\n      },\n      \"enable_master_load_balancer\": {\n       \"default\": true,\n       \"type\": \"boolean\"\n      },\n      \"enable_replica_load_balancer\": {\n       \"default\": false,\n       \"type\": \"boolean\"\n      },\n      \"external_traffic_policy\": {\n       \"default\": \"Cluster\",\n       \"enum\": [\n        \"Cluster\",\n        \"Local\"\n       ],\n       \"type\": \"string\"\n      },\n      \"master_dns_name_format\": {\n       \"default\": \"{cluster}.{team}.{hostedzone}\",\n       \"type\": \"string\"\n      },\n      \"replica_dns_name_format\": {\n       \"default\": \"{cluster}-repl.{team}.{hostedzone}\",\n       \"type\": \"string\"\n      }\n     },\n     \"type\": \"object\"\n    },\n    \"logging_rest_api\": {\n     \"properties\": {\n      \"api_port\": {\n       \"default\": 8080,\n       \"type\": \"integer\"\n      },\n      \"cluster_history_entries\": {\n       \"default\": 1000,\n       \"type\": \"integer\"\n      },\n      \"ring_log_lines\": {\n       \"default\": 100,\n       \"type\": \"integer\"\n      }\n     },\n     \"type\": \"object\"\n    },\n    \"logical_backup\": {\n     \"properties\": {\n      \"logical_backup_docker_image\": {\n       \"default\": \"registry.opensource.zalan.do/acid/logical-backup:v1.7.1\",\n       \"type\": \"string\"\n      },\n      \"logical_backup_google_application_credentials\": {\n       \"type\": \"string\"\n      },\n      \"logical_backup_job_prefix\": {\n       \"default\": \"logical-backup-\",\n       \"type\": \"string\"\n      },\n      \"logical_backup_provider\": {\n       \"default\": \"s3\",\n       \"type\": \"string\"\n      },\n      \"logical_backup_s3_access_key_id\": {\n       \"type\": \"string\"\n      },\n      \"logical_backup_s3_bucket\": {\n       \"type\": \"string\"\n      },\n      \"logical_backup_s3_endpoint\": {\n       \"type\": \"string\"\n      },\n      \"logical_backup_s3_region\": {\n       \"type\": \"string\"\n      },\n      \"logical_backup_s3_secret_access_key\": {\n       \"type\": \"string\"\n      },\n      \"logical_backup_s3_sse\": {\n       \"type\": \"string\"\n      },\n      \"logical_backup_schedule\": {\n       \"default\": \"30 00 * * *\",\n       \"pattern\": \"^(\\\\d+|\\\\*)(/\\\\d+)?(\\\\s+(\\\\d+|\\\\*)(/\\\\d+)?){4}$\",\n       \"type\": \"string\"\n      }\n     },\n     \"type\": \"object\"\n    },\n    \"major_version_upgrade\": {\n     \"properties\": {\n      \"major_version_upgrade_mode\": {\n       \"default\": \"off\",\n       \"type\": \"string\"\n      },\n      \"major_version_upgrade_team_allow_list\": {\n       \"items\": {\n        \"type\": \"string\"\n       },\n       \"type\": \"array\"\n      },\n      \"minimal_major_version\": {\n       \"default\": \"9.6\",\n       \"type\": \"string\"\n      },\n      \"target_major_version\": {\n       \"default\": \"14\",\n       \"type\": \"string\"\n      }\n     },\n     \"type\": \"object\"\n    },\n    \"max_instances\": {\n     \"default\": -1,\n     \"minimum\": -1,\n     \"type\": \"integer\"\n    },\n    \"min_instances\": {\n     \"default\": -1,\n     \"minimum\": -1,\n     \"type\": \"integer\"\n    },\n    \"postgres_pod_resources\": {\n     \"properties\": {\n      \"default_cpu_limit\": {\n       \"default\": \"1\",\n       \"pattern\": \"^(\\\\d+m|\\\\d+(\\\\.\\\\d{1,3})?)$\",\n       \"type\": \"string\"\n      },\n      \"default_cpu_request\": {\n       \"default\": \"100m\",\n       \"pattern\": \"^(\\\\d+m|\\\\d+(\\\\.\\\\d{1,3})?)$\",\n       \"type\": \"string\"\n      },\n      \"default_memory_limit\": {\n       \"default\": \"500Mi\",\n       \"pattern\": \"^(\\\\d+(e\\\\d+)?|\\\\d+(\\\\.\\\\d+)?(e\\\\d+)?[EPTGMK]i?)$\",\n       \"type\": \"string\"\n      },\n      \"default_memory_request\": {\n       \"default\": \"100Mi\",\n       \"pattern\": \"^(\\\\d+(e\\\\d+)?|\\\\d+(\\\\.\\\\d+)?(e\\\\d+)?[EPTGMK]i?)$\",\n       \"type\": \"string\"\n      },\n      \"min_cpu_limit\": {\n       \"default\": \"250m\",\n       \"pattern\": \"^(\\\\d+m|\\\\d+(\\\\.\\\\d{1,3})?)$\",\n       \"type\": \"string\"\n      },\n      \"min_memory_limit\": {\n       \"default\": \"250Mi\",\n       \"pattern\": \"^(\\\\d+(e\\\\d+)?|\\\\d+(\\\\.\\\\d+)?(e\\\\d+)?[EPTGMK]i?)$\",\n       \"type\": \"string\"\n      }\n     },\n     \"type\": \"object\"\n    },\n    \"repair_period\": {\n     \"default\": \"5m\",\n     \"type\": \"string\"\n    },\n    \"resync_period\": {\n     \"default\": \"30m\",\n     \"type\": \"string\"\n    },\n    \"scalyr\": {\n     \"properties\": {\n      \"scalyr_api_key\": {\n       \"type\": \"string\"\n      },\n      \"scalyr_cpu_limit\": {\n       \"default\": \"1\",\n       \"pattern\": \"^(\\\\d+m|\\\\d+(\\\\.\\\\d{1,3})?)$\",\n       \"type\": \"string\"\n      },\n      \"scalyr_cpu_request\": {\n       \"default\": \"100m\",\n       \"pattern\": \"^(\\\\d+m|\\\\d+(\\\\.\\\\d{1,3})?)$\",\n       \"type\": \"string\"\n      },\n      \"scalyr_image\": {\n       \"type\": \"string\"\n      },\n      \"scalyr_memory_limit\": {\n       \"default\": \"500Mi\",\n       \"pattern\": \"^(\\\\d+(e\\\\d+)?|\\\\d+(\\\\.\\\\d+)?(e\\\\d+)?[EPTGMK]i?)$\",\n       \"type\": \"string\"\n      },\n      \"scalyr_memory_request\": {\n       \"default\": \"50Mi\",\n       \"pattern\": \"^(\\\\d+(e\\\\d+)?|\\\\d+(\\\\.\\\\d+)?(e\\\\d+)?[EPTGMK]i?)$\",\n       \"type\": \"string\"\n      },\n      \"scalyr_server_url\": {\n       \"default\": \"https://upload.eu.scalyr.com\",\n       \"type\": \"string\"\n      }\n     },\n     \"type\": \"object\"\n    },\n    \"set_memory_request_to_limit\": {\n     \"default\": false,\n     \"type\": \"boolean\"\n    },\n    \"sidecar_docker_images\": {\n     \"additionalProperties\": {\n      \"type\": \"string\"\n     },\n     \"type\": \"object\"\n    },\n    \"sidecars\": {\n     \"items\": {\n      \"format\": \"textarea\",\n      \"type\": \"string\"\n     },\n     \"nullable\": true,\n     \"type\": \"array\"\n    },\n    \"teams_api\": {\n     \"properties\": {\n      \"enable_admin_role_for_users\": {\n       \"default\": true,\n       \"type\": \"boolean\"\n      },\n      \"enable_postgres_team_crd\": {\n       \"default\": true,\n       \"type\": \"boolean\"\n      },\n      \"enable_postgres_team_crd_superusers\": {\n       \"default\": false,\n       \"type\": \"boolean\"\n      },\n      \"enable_team_member_deprecation\": {\n       \"default\": false,\n       \"type\": \"boolean\"\n      },\n      \"enable_team_superuser\": {\n       \"default\": false,\n       \"type\": \"boolean\"\n      },\n      \"enable_teams_api\": {\n       \"default\": true,\n       \"type\": \"boolean\"\n      },\n      \"pam_configuration\": {\n       \"default\": \"https://info.example.com/oauth2/tokeninfo?access_token= uid realm=/employees\",\n       \"type\": \"string\"\n      },\n      \"pam_role_name\": {\n       \"default\": \"zalandos\",\n       \"type\": \"string\"\n      },\n      \"postgres_superuser_teams\": {\n       \"items\": {\n        \"type\": \"string\"\n       },\n       \"type\": \"array\"\n      },\n      \"protected_role_names\": {\n       \"default\": [\n        \"admin\"\n       ],\n       \"items\": {\n        \"type\": \"string\"\n       },\n       \"type\": \"array\"\n      },\n      \"role_deletion_suffix\": {\n       \"default\": \"_deleted\",\n       \"type\": \"string\"\n      },\n      \"team_admin_role\": {\n       \"default\": \"admin\",\n       \"type\": \"string\"\n      },\n      \"team_api_role_configuration\": {\n       \"additionalProperties\": {\n        \"type\": \"string\"\n       },\n       \"default\": {\n        \"log_statement\": \"all\"\n       },\n       \"type\": \"object\"\n      },\n      \"teams_api_url\": {\n       \"default\": \"https://teams.example.com/api/\",\n       \"type\": \"string\"\n      }\n     },\n     \"type\": \"object\"\n    },\n    \"timeouts\": {\n     \"properties\": {\n      \"pod_deletion_wait_timeout\": {\n       \"default\": \"10m\",\n       \"type\": \"string\"\n      },\n      \"pod_label_wait_timeout\": {\n       \"default\": \"10m\",\n       \"type\": \"string\"\n      },\n      \"ready_wait_interval\": {\n       \"default\": \"4s\",\n       \"type\": \"string\"\n      },\n      \"ready_wait_timeout\": {\n       \"default\": \"30s\",\n       \"type\": \"string\"\n      },\n      \"resource_check_interval\": {\n       \"default\": \"3s\",\n       \"type\": \"string\"\n      },\n      \"resource_check_timeout\": {\n       \"default\": \"10m\",\n       \"type\": \"string\"\n      }\n     },\n     \"type\": \"object\"\n    },\n    \"users\": {\n     \"properties\": {\n      \"replication_username\": {\n       \"default\": \"standby\",\n       \"type\": \"string\"\n      },\n      \"super_username\": {\n       \"default\": \"postgres\",\n       \"type\": \"string\"\n      }\n     },\n     \"type\": \"object\"\n    },\n    \"workers\": {\n     \"default\": 8,\n     \"minimum\": 1,\n     \"type\": \"integer\"\n    }\n   },\n   \"type\": \"object\"\n  }\n },\n \"required\": [\n  \"kind\",\n  \"apiVersion\",\n  \"configuration\"\n ],\n \"title\": \"Operator Configuration\",\n \"type\": \"object\"\n}"}