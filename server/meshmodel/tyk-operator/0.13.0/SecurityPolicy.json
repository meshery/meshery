{"kind":"SecurityPolicy","apiVersion":"tyk.tyk.io/v1alpha1","displayName":"Security Policy","format":"JSON","hostname":"","hostID":"00000000-0000-0000-0000-000000000000","displayhostname":"","metadata":{"isNamespaced":true},"model":{"name":"tyk-operator","version":"0.13.0","displayName":"tyk-operator","hostname":"","hostID":"00000000-0000-0000-0000-000000000000","displayhostname":"","category":{"name":"","metadata":null},"metadata":{"source_uri":"https://helm.tyk.io/public/helm/charts/tyk-operator-0.15.1.tgz"},"components":null,"relationships":null},"schema":"{\n \"description\": \"SecurityPolicy is the Schema for the securitypolicies API\",\n \"properties\": {\n  \"spec\": {\n   \"description\": \"SecurityPolicySpec defines the desired state of SecurityPolicy\",\n   \"properties\": {\n    \"_id\": {\n     \"description\": \"MID (\\\"_id\\\") is generated by Tyk once the resource is created. Do NOT fill this in.\",\n     \"type\": \"string\"\n    },\n    \"access_rights\": {\n     \"additionalProperties\": {\n      \"description\": \"AccessDefinition defines which versions of an API a key has access to\",\n      \"properties\": {\n       \"allowance_scope\": {\n        \"type\": \"string\"\n       },\n       \"allowed_types\": {\n        \"description\": \"Field access of GraphQL APIs can be restricted by setting up an allowed types list in a policy or directly on a key.\",\n        \"items\": {\n         \"description\": \"GraphQLType represents a GraphQL Type for Tyk.\",\n         \"properties\": {\n          \"fields\": {\n           \"items\": {\n            \"type\": \"string\"\n           },\n           \"type\": \"array\"\n          },\n          \"name\": {\n           \"type\": \"string\"\n          }\n         },\n         \"required\": [\n          \"fields\",\n          \"name\"\n         ],\n         \"type\": \"object\"\n        },\n        \"type\": \"array\"\n       },\n       \"allowed_urls\": {\n        \"items\": {\n         \"description\": \"AccessSpec defines what URLS a user has access to and what methods are enabled\",\n         \"properties\": {\n          \"methods\": {\n           \"items\": {\n            \"type\": \"string\"\n           },\n           \"type\": \"array\"\n          },\n          \"url\": {\n           \"type\": \"string\"\n          }\n         },\n         \"required\": [\n          \"methods\",\n          \"url\"\n         ],\n         \"type\": \"object\"\n        },\n        \"type\": \"array\"\n       },\n       \"api_id\": {\n        \"description\": \"TODO: APIID should not really be needed, as is auto-set from the APIDefnition Resource\",\n        \"type\": \"string\"\n       },\n       \"api_name\": {\n        \"description\": \"TODO: APIName should not really be needed, as is auto-set from the APIDefnition Resource\",\n        \"type\": \"string\"\n       },\n       \"disable_introspection\": {\n        \"description\": \"DisableIntrospection disables GraphQL introspection if it is set to True.\",\n        \"type\": \"boolean\"\n       },\n       \"field_access_rights\": {\n        \"description\": \"FieldAccessRights is array of depth limit settings per GraphQL APIs.\",\n        \"items\": {\n         \"description\": \"FieldAccessDefinition represent a struct for depth limit settings per API.\",\n         \"properties\": {\n          \"field_name\": {\n           \"description\": \"FieldName represents the name of the Query or Mutation which the limit applies to.\",\n           \"type\": \"string\"\n          },\n          \"limits\": {\n           \"description\": \"Limit specifies the numerical value of the limit.\",\n           \"properties\": {\n            \"max_query_depth\": {\n             \"description\": \"MaxQueryDepth represents the numerical value of the limit.\",\n             \"format\": \"int64\",\n             \"type\": \"integer\"\n            }\n           },\n           \"required\": [\n            \"max_query_depth\"\n           ],\n           \"type\": \"object\"\n          },\n          \"type_name\": {\n           \"description\": \"TypeName points to a type on which depth limit is set. It can be either Query (most common case) or Mutation\",\n           \"type\": \"string\"\n          }\n         },\n         \"type\": \"object\"\n        },\n        \"type\": \"array\"\n       },\n       \"name\": {\n        \"description\": \"Name of the ApiDefinition resource to target\",\n        \"type\": \"string\"\n       },\n       \"namespace\": {\n        \"description\": \"Namespace of the ApiDefinition resource to target\",\n        \"type\": \"string\"\n       },\n       \"restricted_types\": {\n        \"description\": \"Field access of GraphQL APIs can be restricted by setting up an allowed types list in a policy or directly on a key.\",\n        \"items\": {\n         \"description\": \"GraphQLType represents a GraphQL Type for Tyk.\",\n         \"properties\": {\n          \"fields\": {\n           \"items\": {\n            \"type\": \"string\"\n           },\n           \"type\": \"array\"\n          },\n          \"name\": {\n           \"type\": \"string\"\n          }\n         },\n         \"required\": [\n          \"fields\",\n          \"name\"\n         ],\n         \"type\": \"object\"\n        },\n        \"type\": \"array\"\n       },\n       \"versions\": {\n        \"items\": {\n         \"type\": \"string\"\n        },\n        \"type\": \"array\"\n       }\n      },\n      \"required\": [\n       \"name\",\n       \"namespace\"\n      ],\n      \"type\": \"object\"\n     },\n     \"type\": \"object\"\n    },\n    \"access_rights_array\": {\n     \"items\": {\n      \"description\": \"AccessDefinition defines which versions of an API a key has access to\",\n      \"properties\": {\n       \"allowance_scope\": {\n        \"type\": \"string\"\n       },\n       \"allowed_types\": {\n        \"description\": \"Field access of GraphQL APIs can be restricted by setting up an allowed types list in a policy or directly on a key.\",\n        \"items\": {\n         \"description\": \"GraphQLType represents a GraphQL Type for Tyk.\",\n         \"properties\": {\n          \"fields\": {\n           \"items\": {\n            \"type\": \"string\"\n           },\n           \"type\": \"array\"\n          },\n          \"name\": {\n           \"type\": \"string\"\n          }\n         },\n         \"required\": [\n          \"fields\",\n          \"name\"\n         ],\n         \"type\": \"object\"\n        },\n        \"type\": \"array\"\n       },\n       \"allowed_urls\": {\n        \"items\": {\n         \"description\": \"AccessSpec defines what URLS a user has access to and what methods are enabled\",\n         \"properties\": {\n          \"methods\": {\n           \"items\": {\n            \"type\": \"string\"\n           },\n           \"type\": \"array\"\n          },\n          \"url\": {\n           \"type\": \"string\"\n          }\n         },\n         \"required\": [\n          \"methods\",\n          \"url\"\n         ],\n         \"type\": \"object\"\n        },\n        \"type\": \"array\"\n       },\n       \"api_id\": {\n        \"description\": \"TODO: APIID should not really be needed, as is auto-set from the APIDefnition Resource\",\n        \"type\": \"string\"\n       },\n       \"api_name\": {\n        \"description\": \"TODO: APIName should not really be needed, as is auto-set from the APIDefnition Resource\",\n        \"type\": \"string\"\n       },\n       \"disable_introspection\": {\n        \"description\": \"DisableIntrospection disables GraphQL introspection if it is set to True.\",\n        \"type\": \"boolean\"\n       },\n       \"field_access_rights\": {\n        \"description\": \"FieldAccessRights is array of depth limit settings per GraphQL APIs.\",\n        \"items\": {\n         \"description\": \"FieldAccessDefinition represent a struct for depth limit settings per API.\",\n         \"properties\": {\n          \"field_name\": {\n           \"description\": \"FieldName represents the name of the Query or Mutation which the limit applies to.\",\n           \"type\": \"string\"\n          },\n          \"limits\": {\n           \"description\": \"Limit specifies the numerical value of the limit.\",\n           \"properties\": {\n            \"max_query_depth\": {\n             \"description\": \"MaxQueryDepth represents the numerical value of the limit.\",\n             \"format\": \"int64\",\n             \"type\": \"integer\"\n            }\n           },\n           \"required\": [\n            \"max_query_depth\"\n           ],\n           \"type\": \"object\"\n          },\n          \"type_name\": {\n           \"description\": \"TypeName points to a type on which depth limit is set. It can be either Query (most common case) or Mutation\",\n           \"type\": \"string\"\n          }\n         },\n         \"type\": \"object\"\n        },\n        \"type\": \"array\"\n       },\n       \"name\": {\n        \"description\": \"Name of the ApiDefinition resource to target\",\n        \"type\": \"string\"\n       },\n       \"namespace\": {\n        \"description\": \"Namespace of the ApiDefinition resource to target\",\n        \"type\": \"string\"\n       },\n       \"restricted_types\": {\n        \"description\": \"Field access of GraphQL APIs can be restricted by setting up an allowed types list in a policy or directly on a key.\",\n        \"items\": {\n         \"description\": \"GraphQLType represents a GraphQL Type for Tyk.\",\n         \"properties\": {\n          \"fields\": {\n           \"items\": {\n            \"type\": \"string\"\n           },\n           \"type\": \"array\"\n          },\n          \"name\": {\n           \"type\": \"string\"\n          }\n         },\n         \"required\": [\n          \"fields\",\n          \"name\"\n         ],\n         \"type\": \"object\"\n        },\n        \"type\": \"array\"\n       },\n       \"versions\": {\n        \"items\": {\n         \"type\": \"string\"\n        },\n        \"type\": \"array\"\n       }\n      },\n      \"required\": [\n       \"name\",\n       \"namespace\"\n      ],\n      \"type\": \"object\"\n     },\n     \"type\": \"array\"\n    },\n    \"active\": {\n     \"description\": \"Active must be set to `true` for Tyk to load the security policy into memory.\",\n     \"type\": \"boolean\"\n    },\n    \"contextRef\": {\n     \"description\": \"Context specify namespace/name of the OperatorContext object used for reconciling this APIDefinition\",\n     \"properties\": {\n      \"name\": {\n       \"description\": \"k8s resource name\",\n       \"type\": \"string\"\n      },\n      \"namespace\": {\n       \"description\": \"The k8s namespace of the resource being targetted. When omitted this will be set to the namespace of the object that is being reconciled.\",\n       \"type\": \"string\"\n      }\n     },\n     \"required\": [\n      \"name\"\n     ],\n     \"type\": \"object\"\n    },\n    \"enable_http_signature_validation\": {\n     \"type\": \"boolean\"\n    },\n    \"hmac_enabled\": {\n     \"type\": \"boolean\"\n    },\n    \"id\": {\n     \"description\": \"If you are linking an existing Policy ID to a new YAML CRD, then fill in this ID field with the \\\"_id\\\" field. See policies.md readme for more info\",\n     \"type\": \"string\"\n    },\n    \"is_inactive\": {\n     \"description\": \"IsInactive applies to the key itself. Allows enabling or disabling the policy without deleting it.\",\n     \"type\": \"boolean\"\n    },\n    \"key_expires_in\": {\n     \"description\": \"KeyExpiresIn is the number of seconds till key expiry. For 1 hour is 3600. Default never expire or 0\",\n     \"format\": \"int64\",\n     \"type\": \"integer\"\n    },\n    \"max_query_depth\": {\n     \"description\": \"Max depth of a GraphQL query\",\n     \"type\": \"integer\"\n    },\n    \"meta_data\": {\n     \"additionalProperties\": {\n      \"type\": \"string\"\n     },\n     \"description\": \"LastUpdated                   string                           `json:\\\"last_updated\\\"`\",\n     \"type\": \"object\"\n    },\n    \"name\": {\n     \"description\": \"Name represents the name of the security policy as displayed in the Dashboard\",\n     \"type\": \"string\"\n    },\n    \"org_id\": {\n     \"description\": \"OrgID is overwritten - no point setting this\",\n     \"type\": \"string\"\n    },\n    \"partitions\": {\n     \"properties\": {\n      \"acl\": {\n       \"type\": \"boolean\"\n      },\n      \"complexity\": {\n       \"type\": \"boolean\"\n      },\n      \"per_api\": {\n       \"type\": \"boolean\"\n      },\n      \"quota\": {\n       \"type\": \"boolean\"\n      },\n      \"rate_limit\": {\n       \"type\": \"boolean\"\n      }\n     },\n     \"type\": \"object\"\n    },\n    \"per\": {\n     \"description\": \"To be used in conjunction with \\\"Rate\\\".  Per seconds. 1 minute=60.  1 hour=3600 omit or \\\"-1\\\" for unlimited\",\n     \"format\": \"int64\",\n     \"type\": \"integer\"\n    },\n    \"quota_max\": {\n     \"description\": \"Value of Quota allowed, omit or \\\"-1\\\" for unlimited\",\n     \"format\": \"int64\",\n     \"type\": \"integer\"\n    },\n    \"quota_renewal_rate\": {\n     \"description\": \"Value reset length, in seconds, omit or \\\"-1\\\" for unlimited\",\n     \"format\": \"int64\",\n     \"type\": \"integer\"\n    },\n    \"rate\": {\n     \"description\": \"Rate limit per X seconds (x=\\\"Per\\\"), omit or \\\"-1\\\" for unlimited\",\n     \"format\": \"int64\",\n     \"type\": \"integer\"\n    },\n    \"state\": {\n     \"description\": \"State can be active, draft or deny active: All keys are active and new keys can be created. draft: All keys are active but no new keys can be created. deny: All keys are deactivated and no keys can be created.\",\n     \"enum\": [\n      \"active\",\n      \"draft\",\n      \"deny\"\n     ],\n     \"type\": \"string\"\n    },\n    \"tags\": {\n     \"description\": \"Custom tags to apply to the key, get transfered to the analytics\",\n     \"items\": {\n      \"type\": \"string\"\n     },\n     \"type\": \"array\"\n    },\n    \"throttle_interval\": {\n     \"description\": \"If rate limited, how many seconds to retry a request for.  omit or \\\"-1\\\" for unlimited\",\n     \"format\": \"int64\",\n     \"type\": \"integer\"\n    },\n    \"throttle_retry_limit\": {\n     \"description\": \"Number of retries before returning error.   omit or \\\"-1\\\" for unlimited\",\n     \"type\": \"integer\"\n    }\n   },\n   \"required\": [\n    \"active\",\n    \"name\",\n    \"state\"\n   ],\n   \"type\": \"object\"\n  }\n },\n \"title\": \"Security Policy\",\n \"type\": \"object\"\n}"}