{"kind":"WorkloadIdentity","apiVersion":"v1alpha1","display-name":"Workload Identity","format":"JSON","metadata":{},"model":{"name":"invisibl","version":"1.0.0","display-name":"","category":"","sub-category":""},"schema":"{\n \"description\": \"WorkloadIdentitySpec defines the desired state of WorkloadIdentity\",\n \"properties\": {\n  \"aws\": {\n   \"description\": \"AWS WorkloadIdentity\",\n   \"properties\": {\n    \"assumeRolePolicy\": {\n     \"description\": \"AssumeRolePolicy of the Role\",\n     \"type\": \"string\"\n    },\n    \"inlinePolicies\": {\n     \"additionalProperties\": {\n      \"type\": \"string\"\n     },\n     \"description\": \"InlinePolicies of the Role\",\n     \"type\": \"object\"\n    },\n    \"maxSessionDuration\": {\n     \"description\": \"MaxSessionDuration of the Role\",\n     \"format\": \"int64\",\n     \"type\": \"integer\"\n    },\n    \"path\": {\n     \"default\": \"/\",\n     \"description\": \"Path of the Role\",\n     \"type\": \"string\"\n    },\n    \"pods\": {\n     \"description\": \"Pods to be managed\",\n     \"items\": {\n      \"properties\": {\n       \"matchExpressions\": {\n        \"description\": \"matchExpressions is a list of label selector requirements. The requirements are ANDed.\",\n        \"items\": {\n         \"description\": \"A label selector requirement is a selector that contains values, a key, and an operator that relates the key and values.\",\n         \"properties\": {\n          \"key\": {\n           \"description\": \"key is the label key that the selector applies to.\",\n           \"type\": \"string\"\n          },\n          \"operator\": {\n           \"description\": \"operator represents a key's relationship to a set of values. Valid operators are In, NotIn, Exists and DoesNotExist.\",\n           \"type\": \"string\"\n          },\n          \"values\": {\n           \"description\": \"values is an array of string values. If the operator is In or NotIn, the values array must be non-empty. If the operator is Exists or DoesNotExist, the values array must be empty. This array is replaced during a strategic merge patch.\",\n           \"items\": {\n            \"type\": \"string\"\n           },\n           \"type\": \"array\"\n          }\n         },\n         \"required\": [\n          \"key\",\n          \"operator\"\n         ],\n         \"type\": \"object\"\n        },\n        \"type\": \"array\"\n       },\n       \"matchLabels\": {\n        \"additionalProperties\": {\n         \"type\": \"string\"\n        },\n        \"description\": \"matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels map is equivalent to an element of matchExpressions, whose key field is \\\"key\\\", the operator is \\\"In\\\", and the values array contains only \\\"value\\\". The requirements are ANDed.\",\n        \"type\": \"object\"\n       },\n       \"namespace\": {\n        \"description\": \"Namespace of the Pod\",\n        \"type\": \"string\"\n       }\n      },\n      \"type\": \"object\"\n     },\n     \"type\": \"array\"\n    },\n    \"policies\": {\n     \"description\": \"Policies of the Role\",\n     \"items\": {\n      \"type\": \"string\"\n     },\n     \"type\": \"array\"\n    },\n    \"serviceAccounts\": {\n     \"description\": \"ServiceAccounts to be managed\",\n     \"items\": {\n      \"description\": \"ServiceAccount to create service account.\",\n      \"properties\": {\n       \"Annotations\": {\n        \"additionalProperties\": {\n         \"type\": \"string\"\n        },\n        \"description\": \"Annotations to be added on ServiceAccount\",\n        \"type\": \"object\"\n       },\n       \"action\": {\n        \"description\": \"Action to be perform on ServiceAccount\",\n        \"enum\": [\n         \"Update\",\n         \"Create\"\n        ],\n        \"type\": \"string\"\n       },\n       \"name\": {\n        \"description\": \"Name of the ServiceAccount\",\n        \"type\": \"string\"\n       },\n       \"namespace\": {\n        \"description\": \"Namespace of the ServiceAccount\",\n        \"type\": \"string\"\n       }\n      },\n      \"type\": \"object\"\n     },\n     \"type\": \"array\"\n    }\n   },\n   \"required\": [\n    \"assumeRolePolicy\"\n   ],\n   \"type\": \"object\"\n  },\n  \"azure\": {\n   \"description\": \"Azure WorkloadIdentity\",\n   \"properties\": {\n    \"identity\": {\n     \"description\": \"Identity of the WorkloadIdentity\",\n     \"properties\": {\n      \"apiVersion\": {\n       \"description\": \"APIVersion of the identity\",\n       \"type\": \"string\"\n      },\n      \"kind\": {\n       \"description\": \"Kind of the identity\",\n       \"type\": \"string\"\n      },\n      \"metadata\": {\n       \"description\": \"Metadata of the identity\",\n       \"properties\": {\n        \"annotations\": {\n         \"additionalProperties\": {\n          \"type\": \"string\"\n         },\n         \"description\": \"Annotations of the Resource\",\n         \"type\": \"object\"\n        },\n        \"labels\": {\n         \"additionalProperties\": {\n          \"type\": \"string\"\n         },\n         \"description\": \"Labels of the Resource\",\n         \"type\": \"object\"\n        },\n        \"name\": {\n         \"description\": \"Name of the Resource\",\n         \"type\": \"string\"\n        },\n        \"namespace\": {\n         \"description\": \"Namespace of the Resource\",\n         \"type\": \"string\"\n        }\n       },\n       \"type\": \"object\"\n      },\n      \"spec\": {\n       \"description\": \"Spec of the identity\",\n       \"properties\": {\n        \"type\": {\n         \"description\": \"Type of the identity\",\n         \"type\": \"integer\"\n        }\n       },\n       \"type\": \"object\"\n      }\n     },\n     \"type\": \"object\"\n    },\n    \"identityBinding\": {\n     \"description\": \"IdentityBinding of the WorkloadIdentity\",\n     \"properties\": {\n      \"apiVersion\": {\n       \"description\": \"APIVersion of the IdentityBinding\",\n       \"type\": \"string\"\n      },\n      \"kind\": {\n       \"description\": \"Kind of the IdentityBinding\",\n       \"type\": \"string\"\n      },\n      \"metadata\": {\n       \"description\": \"Metadata of the IdentityBinding\",\n       \"properties\": {\n        \"annotations\": {\n         \"additionalProperties\": {\n          \"type\": \"string\"\n         },\n         \"description\": \"Annotations of the Resource\",\n         \"type\": \"object\"\n        },\n        \"labels\": {\n         \"additionalProperties\": {\n          \"type\": \"string\"\n         },\n         \"description\": \"Labels of the Resource\",\n         \"type\": \"object\"\n        },\n        \"name\": {\n         \"description\": \"Name of the Resource\",\n         \"type\": \"string\"\n        },\n        \"namespace\": {\n         \"description\": \"Namespace of the Resource\",\n         \"type\": \"string\"\n        }\n       },\n       \"type\": \"object\"\n      },\n      \"spec\": {\n       \"description\": \"Spec of the IdentityBinding\",\n       \"properties\": {\n        \"selector\": {\n         \"description\": \"Selector of the IdentityBinding\",\n         \"type\": \"string\"\n        }\n       },\n       \"type\": \"object\"\n      }\n     },\n     \"type\": \"object\"\n    },\n    \"roleAssignments\": {\n     \"additionalProperties\": {\n      \"properties\": {\n       \"role\": {\n        \"description\": \"Role of the role assignment\",\n        \"type\": \"string\"\n       },\n       \"scope\": {\n        \"description\": \"Scope of the role assignment\",\n        \"type\": \"string\"\n       }\n      },\n      \"required\": [\n       \"role\"\n      ],\n      \"type\": \"object\"\n     },\n     \"description\": \"RoleAssignments of the WorkloadIdentity\",\n     \"type\": \"object\"\n    },\n    \"roleDefinitions\": {\n     \"description\": \"RoleDefinitions is a list of role definitions\",\n     \"items\": {\n      \"properties\": {\n       \"assignableScopes\": {\n        \"description\": \"AssignableScopes is a list of assignable scopes\",\n        \"items\": {\n         \"type\": \"string\"\n        },\n        \"type\": \"array\"\n       },\n       \"description\": {\n        \"description\": \"Description of the role definition\",\n        \"type\": \"string\"\n       },\n       \"id\": {\n        \"description\": \"ID of the role definition (this will be used to generate internal UUID for role)\",\n        \"type\": \"string\"\n       },\n       \"permissions\": {\n        \"description\": \"Permissions of the role definition\",\n        \"items\": {\n         \"properties\": {\n          \"actions\": {\n           \"description\": \"Actions is a list of actions\",\n           \"items\": {\n            \"type\": \"string\"\n           },\n           \"type\": \"array\"\n          },\n          \"dataActions\": {\n           \"description\": \"DataActions is a list of data actions\",\n           \"items\": {\n            \"type\": \"string\"\n           },\n           \"type\": \"array\"\n          },\n          \"notActions\": {\n           \"description\": \"NotActions is a list of not actions\",\n           \"items\": {\n            \"type\": \"string\"\n           },\n           \"type\": \"array\"\n          },\n          \"notDataActions\": {\n           \"description\": \"NotDataActions is a list of not data actions\",\n           \"items\": {\n            \"type\": \"string\"\n           },\n           \"type\": \"array\"\n          }\n         },\n         \"type\": \"object\"\n        },\n        \"type\": \"array\"\n       },\n       \"roleName\": {\n        \"description\": \"RoleName of the role definition\",\n        \"type\": \"string\"\n       },\n       \"roleType\": {\n        \"description\": \"RoleType of the role definition\",\n        \"type\": \"string\"\n       }\n      },\n      \"required\": [\n       \"id\",\n       \"permissions\",\n       \"roleName\"\n      ],\n      \"type\": \"object\"\n     },\n     \"type\": \"array\"\n    }\n   },\n   \"type\": \"object\"\n  },\n  \"credentials\": {\n   \"description\": \"Credentials to manage the WorkloadIdentity\",\n   \"properties\": {\n    \"properties\": {\n     \"additionalProperties\": {\n      \"type\": \"string\"\n     },\n     \"description\": \"Properties indicates extra properties of credentials\",\n     \"type\": \"object\"\n    },\n    \"secretRef\": {\n     \"description\": \"SecretRef to fetch the credentials\",\n     \"properties\": {\n      \"name\": {\n       \"description\": \"Name of the secret.\",\n       \"type\": \"string\"\n      },\n      \"namespace\": {\n       \"description\": \"Namespace of the secret.\",\n       \"type\": \"string\"\n      }\n     },\n     \"required\": [\n      \"name\"\n     ],\n     \"type\": \"object\"\n    },\n    \"source\": {\n     \"description\": \"Source of the credentials\",\n     \"enum\": [\n      \"Secret\"\n     ],\n     \"type\": \"string\"\n    }\n   },\n   \"type\": \"object\"\n  },\n  \"description\": {\n   \"description\": \"Desc of the WorkloadIdentity\",\n   \"type\": \"string\"\n  },\n  \"name\": {\n   \"description\": \"Name of the WorkloadIdentity\",\n   \"type\": \"string\"\n  },\n  \"provider\": {\n   \"description\": \"Provider of the WorkloadIdentity\",\n   \"enum\": [\n    \"AWS\",\n    \"Azure\"\n   ],\n   \"type\": \"string\"\n  },\n  \"writeToSecretRef\": {\n   \"description\": \"WriteToSecretRef is a reference to a secret\",\n   \"properties\": {\n    \"name\": {\n     \"description\": \"Name of the secret\",\n     \"type\": \"string\"\n    },\n    \"namespace\": {\n     \"description\": \"Namespace of the secret\",\n     \"type\": \"string\"\n    },\n    \"templateData\": {\n     \"additionalProperties\": {\n      \"type\": \"string\"\n     },\n     \"description\": \"TemplateData is a template for the data to be written to the secret\",\n     \"type\": \"object\"\n    }\n   },\n   \"required\": [\n    \"name\",\n    \"templateData\"\n   ],\n   \"type\": \"object\"\n  }\n },\n \"required\": [\n  \"provider\"\n ],\n \"title\": \"Workload Identity\",\n \"type\": \"object\"\n}"}